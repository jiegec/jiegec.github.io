<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 <title>Tag - ssh</title>
 <link href="https://jiege.ch/tag/ssh/index.xml" rel="self"/>
 <link href="https://jiege.ch/tag/ssh.html"/>
 <updated>2019-03-22T23:31:55+08:00</updated>
 <id>https://jiege.ch/tag/ssh.html</id>
 <author>
   <name>Jiege Chen</name>
 </author>
 
 <entry>
   <title>通过 SSH 隧道连接 ADB 和 Android 设备</title>
   <link href="https://jiege.ch/networking/2018/09/13/adb-over-ssh-tunnel/"/>
   <updated>2018-09-13T13:20:00+08:00</updated>
   <id>https://jiege.ch/networking/2018/09/13/adb-over-ssh-tunnel</id>
   <content type="html">&lt;p&gt;由于本机算力不足，想要在远程&lt;a href=&quot;/programming/2018/06/18/building-lineageos-in-archlinux/&quot;&gt;编译 LineageOS&lt;/a&gt; ，其中有一步需要连接到已有的设备，于是突发奇想：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;adb 可以通过 网络连接&lt;/li&gt;
  &lt;li&gt;ssh 可以进行端口转发，这里是把 remote 的端口转发到 Android 设备上的端口。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;方法如下：&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;adb shell ip &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; inet addr show wlan0
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# remember the ip address here&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;adb tcpip PORT1
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ssh &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; PORT2:ANDROID_IP:PORT1 REMOTE
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;remote&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;adb connect localhost:PORT2 &lt;span class=&quot;c&quot;&gt;# trust this device on Android&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;参考文档：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/a/3623727&quot;&gt;How can I connect to Android with ADB over TCP?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ssh.com/ssh/tunneling/example&quot;&gt;SSH PORT FORWARDING EXAMPLE&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
</feed>
