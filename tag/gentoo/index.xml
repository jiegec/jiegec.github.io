<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 <title>Tag - gentoo</title>
 <link href="https://jiegec.github.io/tag/gentoo/index.xml" rel="self"/>
 <link href="https://jiegec.github.io/tag/gentoo.html"/>
 <updated>2018-05-06T14:40:28+08:00</updated>
 <id>https://jiegec.github.io/tag/gentoo.html</id>
 <author>
   <name>Jiege Chen</name>
 </author>
 
 <entry>
   <title>在 macOS 上试用 Gentoo/Prefix</title>
   <link href="https://jiegec.github.io/macos/2017/12/27/try-gentoo-prefix-on-macOS/"/>
   <updated>2017-12-27T20:25:23+08:00</updated>
   <id>https://jiegec.github.io/macos/2017/12/27/try-gentoo-prefix-on-macOS</id>
   <content type="html">&lt;p&gt;前几天参加了&lt;a href=&quot;https://keybase.io/jsteward&quot;&gt;许朋程&lt;/a&gt;主讲的Tunight，对Gentoo有了一定的了解，不过看到如此复杂的安装过程和长久的编译时间，又看看我的CPU，只能望而却步了。不过，有Gentoo/Prefix这个工具，使得我们可以在其它的操作系统（如macOS,Solaris等）上在一个 $EPREFIX 下跑 Portage ，也就是把 Portage 运行在别的操作系统，当作一个包管理器，并且可以和别的操作系统并存。&lt;/p&gt;

&lt;p&gt;首先还是祭出官网：&lt;a href=&quot;https://wiki.gentoo.org/wiki/Project:Prefix&quot;&gt;Project:Prefix&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;首先设定好环境变量 &lt;code class=&quot;highlighter-rouge&quot;&gt;$EPREFIX&lt;/code&gt; ，之后所有的东西都会安装到这个目录下，把 &lt;code class=&quot;highlighter-rouge&quot;&gt;bootstrap-prefix.sh&lt;/code&gt; 下载到 &lt;code class=&quot;highlighter-rouge&quot;&gt;$EPREFIX&lt;/code&gt; ，然后 &lt;code class=&quot;highlighter-rouge&quot;&gt;./bootstrap-prefix.sh&lt;/code&gt; ，会进行一系列的问题，一一回答即可。建议在运行前设置好 &lt;code class=&quot;highlighter-rouge&quot;&gt;GENTOO_MIRRORS=http://mirrors.tuna.tsinghua.edu.cn/gentoo&lt;/code&gt; 由于TUNA没有对gentoo_prefix做镜像，只能把distfiles切换到TUNA的镜像上。&lt;/p&gt;

&lt;p&gt;然后。。。&lt;/p&gt;

&lt;p&gt;stage1…&lt;/p&gt;

&lt;p&gt;stage2..&lt;/p&gt;

&lt;p&gt;stage3.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;emerge -e @world&lt;/code&gt; BOOM&lt;/p&gt;

&lt;p&gt;经过 n 次跑挂以后，终于搞完了 stage3 ，然后 &lt;code class=&quot;highlighter-rouge&quot;&gt;SHELL=bash ./bootstrap-prefix.sh $EPREFIX startscript&lt;/code&gt; 生成 &lt;code class=&quot;highlighter-rouge&quot;&gt;startprefix&lt;/code&gt; ，在外面的SHELL中向切进来的时候运行这个即可。&lt;/p&gt;

&lt;p&gt;然后就可以使用Gentoo/Prefix了。注意！此时的 &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt; 仅限于 &lt;code class=&quot;highlighter-rouge&quot;&gt;$EPREFIX&lt;/code&gt; 下几个目录和 &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/bin&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;/bin&lt;/code&gt; 所以很多东西都会出问题（Emacs, Vim, Fish etc）。小心不要把自己的目录什么的搞挂了。&lt;/p&gt;

&lt;p&gt;然后就可以假装试用Gentoo了！&lt;/p&gt;

&lt;p&gt;哈哈哈哈哈哈哈&lt;/p&gt;

&lt;p&gt;死于编译 libgcrypt 和 llvm 。&lt;/p&gt;
</content>
 </entry>
 
</feed>
