<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 <title>Tag - git</title>
 <link href="https://jiege.ch/tag/git/index.xml" rel="self"/>
 <link href="https://jiege.ch/tag/git.html"/>
 <updated>2019-02-26T22:42:15+08:00</updated>
 <id>https://jiege.ch/tag/git.html</id>
 <author>
   <name>Jiege Chen</name>
 </author>
 
 <entry>
   <title>A Good Way To Show Git Diff For Compressed Files</title>
   <link href="https://jiege.ch/programming/2016/07/23/a-good-way-to-show-git-diff-for-compressed-files/"/>
   <updated>2016-07-23T14:46:41+08:00</updated>
   <id>https://jiege.ch/programming/2016/07/23/a-good-way-to-show-git-diff-for-compressed-files</id>
   <content type="html">&lt;p&gt;I have found a good way to track changes in .gz files:
Add these to ~/.gitconfig:&lt;/p&gt;

&lt;div class=&quot;language-config highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[&lt;span class=&quot;n&quot;&gt;core&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;attributesFile&lt;/span&gt; = ~/.&lt;span class=&quot;n&quot;&gt;gitattributes&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;zip&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;unzip&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gz&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;gzcat&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bz2&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;bzcat&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;xz&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;xzcat&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tar&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;O&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;xf&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tar-bz2&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;O&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;xjf&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tar-gz&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;O&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;xzf&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tar-xz&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;O&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;xJf&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;binary&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;true&lt;/span&gt;

[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;odf&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;odt2txt&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pdf&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;pdfinfo&lt;/span&gt;
[&lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bin&quot;&lt;/span&gt;]
  &lt;span class=&quot;n&quot;&gt;textconv&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;hexdump&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; -&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And these to ~/.gitattributes:&lt;/p&gt;

&lt;div class=&quot;language-config highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;*.&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;.&lt;span class=&quot;n&quot;&gt;bz2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;bz2&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;.&lt;span class=&quot;n&quot;&gt;gz&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;gz&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;.&lt;span class=&quot;n&quot;&gt;xz&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;tar&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;xz&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;bz2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;bz2&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;gz&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;gz&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;zip&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;zip&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;xz&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;xz&lt;/span&gt;

*.&lt;span class=&quot;n&quot;&gt;odf&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;odf&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;odt&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;odf&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;odp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;odf&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;pdf&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;pdf&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;exe&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;png&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;
*.&lt;span class=&quot;n&quot;&gt;jpg&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diff&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And then you can &lt;code class=&quot;highlighter-rouge&quot;&gt;git diff&lt;/code&gt; for .gz files.&lt;/p&gt;

&lt;p&gt;Codes are adapted from https://gist.github.com/RsrchBoy/11197048
and https://git.wiki.kernel.org/index.php/GitTips#Getting_a_plain-text_diff and https://gist.github.com/kbaird/2654115.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tips On Git Shallow Clone</title>
   <link href="https://jiege.ch/programming/2016/04/03/tips-on-git-shallow-clone/"/>
   <updated>2016-04-03T14:38:09+08:00</updated>
   <id>https://jiege.ch/programming/2016/04/03/tips-on-git-shallow-clone</id>
   <content type="html">&lt;p&gt;Just learned a new tip on git shallow clone. As you know, some repository are really really large, such as emacs and linux. Cloning is slow and unstable. And there is no way to pause and resume a git clone. So I use shallow clone to clone them. But what if I want to clone other branches?&lt;/p&gt;

&lt;p&gt;From here: http://stackoverflow.com/a/27393574/2148614&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git remote set-branches origin '*'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Building Emacs Git Version With Xwidgets And Modules In Archlinux</title>
   <link href="https://jiege.ch/programming/2016/02/18/building-emacs-git-version-with-xwidgets-and-modules-in-archlinux/"/>
   <updated>2016-02-18T12:37:52+08:00</updated>
   <id>https://jiege.ch/programming/2016/02/18/building-emacs-git-version-with-xwidgets-and-modules-in-archlinux</id>
   <content type="html">&lt;p&gt;First you need to install these packages:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo pacman -S git autoconf automake gtk3 webkitgtk
git clone --depth 1 https://github.com/emacs-mirror/emacs.git (or git protocol if you like)
cd emacs
./autogen.sh all
./configure --with-xwidgets --with-x --with-x-toolkit=gtk3 --with-modules
make
cd lisp
make autoloads
make
make
make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Until you got everything ok.&lt;/p&gt;

&lt;p&gt;Then you can just:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd src
./emacs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And then, M-x webkit-browse-url RET:
&lt;img src=&quot;/assets/xwidget-webkit.png&quot; alt=&quot;xwidget-webkit&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Also, test the modules feature using &lt;a href=&quot;https://github.com/syohex/emacs-qrencode&quot;&gt;syohex/emacs-qrencode&lt;/a&gt;:
&lt;img src=&quot;/assets/qrencode.png&quot; alt=&quot;qrencode&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Iâ€™m using ssh and X11 Forward to show Emacs in Mac OS X! Cool!&lt;/p&gt;
</content>
 </entry>
 
</feed>
