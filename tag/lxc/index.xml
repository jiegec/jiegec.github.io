<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 <title>Tag - lxc</title>
 <link href="https://jiegec.me/tag/lxc/index.xml" rel="self"/>
 <link href="https://jiegec.me/tag/lxc.html"/>
 <updated>2018-10-07T23:13:40+08:00</updated>
 <id>https://jiegec.me/tag/lxc.html</id>
 <author>
   <name>Jiege Chen</name>
 </author>
 
 <entry>
   <title>通过 systemd-run 直接在容器中执行命令</title>
   <link href="https://jiegec.me/devops/2018/07/06/run-command-in-container-directly/"/>
   <updated>2018-07-06T15:56:00+08:00</updated>
   <id>https://jiegec.me/devops/2018/07/06/run-command-in-container-directly</id>
   <content type="html">之前使用 `systemd-nspawn` 开了容器，然后通过 `machinectl shell` 进去，想要起一个服务然后丢到后台继续执行，但是发现离开这个 session 后这个进程总是会被杀掉，于是找了 `systemd-run` 的方案，即：

```shell
systemd-run --machine machine_name_here absolute_path_to_executable args_here
```

这样可以直接在容器中跑服务，而且用这个命令输出的临时 server 名称，还可以看到日志：

```shell
journalctl --machine machine_name_here -u unit_name_above
```
</content>
 </entry>
 
</feed>
