<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 <title>Tag - compression</title>
 <link href="https://jiegec.me/tag/compression/index.xml" rel="self"/>
 <link href="https://jiegec.me/tag/compression.html"/>
 <updated>2018-10-04T23:01:39+08:00</updated>
 <id>https://jiegec.me/tag/compression.html</id>
 <author>
   <name>Jiege Chen</name>
 </author>
 
 <entry>
   <title>A Good Way To Show Git Diff For Compressed Files</title>
   <link href="https://jiegec.me/programming/2016/07/23/a-good-way-to-show-git-diff-for-compressed-files/"/>
   <updated>2016-07-23T14:46:41+08:00</updated>
   <id>https://jiegec.me/programming/2016/07/23/a-good-way-to-show-git-diff-for-compressed-files</id>
   <content type="html">I have found a good way to track changes in .gz files:
Add these to ~/.gitconfig:

```config
[core]
  attributesFile = ~/.gitattributes
[diff &quot;zip&quot;]
  textconv = unzip -p
  binary = true
[diff &quot;gz&quot;]
  textconv = gzcat
  binary = true
[diff &quot;bz2&quot;]
  textconv = bzcat
  binary = true
[diff &quot;xz&quot;]
  textconv = xzcat
  binary = true
[diff &quot;tar&quot;]
  textconv = tar -O -xf
  binary = true
[diff &quot;tar-bz2&quot;]
  textconv = tar -O -xjf
  binary = true
[diff &quot;tar-gz&quot;]
  textconv = tar -O -xzf
  binary = true
[diff &quot;tar-xz&quot;]
  textconv = tar -O -xJf
  binary = true

[diff &quot;odf&quot;]
  textconv = odt2txt
[diff &quot;pdf&quot;]
  textconv = pdfinfo
[diff &quot;bin&quot;]
  textconv = hexdump -v -C
```

And these to ~/.gitattributes:

```config
*.tar diff=tar
*.tar.bz2 diff=tar-bz2
*.tar.gz diff=tar-gz
*.tar.xz diff=tar-xz
*.bz2 diff=bz2
*.gz diff=gz
*.zip diff=zip
*.xz diff=xz

*.odf diff=odf
*.odt diff=odf
*.odp diff=odf
*.pdf diff=pdf
*.exe diff=bin
*.png diff=bin
*.jpg diff=bin

```

And then you can `git diff` for .gz files.

Codes are adapted from https://gist.github.com/RsrchBoy/11197048
and https://git.wiki.kernel.org/index.php/GitTips#Getting_a_plain-text_diff and https://gist.github.com/kbaird/2654115.
</content>
 </entry>
 
</feed>
