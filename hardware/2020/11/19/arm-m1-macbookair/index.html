<!DOCTYPE html>
<html>
<head>
    <title>ARM M1 MacBook Air 开箱 // 杰哥的{运维,编程,调板子}小笔记</title>

    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    
    
    

        <meta property="og:title" content="ARM M1 MacBook Air 开箱" />
    <meta property="og:description" content="购买 我是 11.12 的时候在 Apple Store 上下单的，选的是 MacBookAir，带 M1 芯片，8 核 CPU &#43; 8 核 GPU，加了一些内存和硬盘。今天（11.19）的时候顺丰到货，比 Apple Store 上显示的预计到达时间 21-28 号要更早。另外，我也听朋友说现在一些线下的店也有货，也有朋友直接在京东上买到了 Mac mini，总之第一波 M1 的用户最近应该都可以拿到设备了。
现在这篇博客，就是在 ARM MBA 上编写的，使用的是 Intel 的 VSCode，毕竟 VSCode 的 ARM64 版不久后才正式发布。
开箱 从外观来看，一切都和 Intel MBA 一样，包装上也看不出区别，模具也是一样的。
进了系统才能看得出区别。预装的系统是 macOS Big Sur 11.0，之后手动更新到了目前最新的 11.0.1。
顺带 @FactorialN 同学提醒我在这里提一句：包装里有电源适配器，不太环保。
体验 ARM64 首先自然是传统艺能，证明一下确实是 Apple Silicon：
$ uname -a Darwin macbookair.lan 20.1.0 Darwin Kernel Version 20.1.0: Sat Oct 31 00:07:10 PDT 2020; root:xnu-7195." />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en" />
    <meta property="og:url" content="https://jia.je/hardware/2020/11/19/arm-m1-macbookair/" />
    


    <link rel="shortcut icon" href="/favicon.ico">

    <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
    <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="/css/style.css">
    
    <script src="/js/wavedrom/default.js" type="text/javascript"></script>
    <script src="/js/wavedrom/wavedrom.min.js" type="text/javascript" /></script>

    <meta name="generator" content="Hugo 0.111.3">
</head>


<body onload="WaveDrom.ProcessAll()">
<div id="container">
    <header id="header">
    <div id="header-outer" class="outer">
        <div id="header-inner" class="inner">
            <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
            <a id="logo" class="logo-text" href="/">杰哥的{运维,编程,调板子}小笔记</a>
            <nav id="main-nav">
                
                <a class="main-nav-link" href="/about/">关于</a>
                
                <a class="main-nav-link" href="/category/">分类</a>
                
                <a class="main-nav-link" href="/open-source-contributions/">开源</a>
                
                <a class="main-nav-link" href="/tags/">标签</a>
                
                <a class="main-nav-link" href="/series/">系列</a>
                
                <a class="main-nav-link" href="/feed.xml">订阅</a>
                
                <a class="main-nav-link" href="/projects/readme/">项目</a>
                
            </nav>
            <nav id="sub-nav">
                <div id="search-form-wrap">
                </div>
            </nav>
        </div>
    </div>
</header>

    <section id="main" class="outer">
        <article class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        <header class="article-header">
            <h1 class="article-title" itemprop="name">ARM M1 MacBook Air 开箱</h1>
        </header>
        
        <div class="article-meta">
            <a href="/hardware/2020/11/19/arm-m1-macbookair/" class="article-date">
                <time datetime='2020-11-19T18:35:00.000&#43;08:00' itemprop="datePublished">2020-11-19</time>
            </a>
            
            
            
            <div class="article-comment-link-wrap">
                <a href="/hardware/2020/11/19/arm-m1-macbookair/#disqus_thread" class="article-comment-link">Comments</a>
            </div>
            
        </div>
        <div class="article-entry" itemprop="articleBody">
            <h2 id="购买">购买</h2>
<p>我是 11.12 的时候在 Apple Store 上下单的，选的是 MacBookAir，带 M1 芯片，8 核 CPU + 8 核 GPU，加了一些内存和硬盘。今天（11.19）的时候顺丰到货，比 Apple Store 上显示的预计到达时间 21-28 号要更早。另外，我也听朋友说现在一些线下的店也有货，也有朋友直接在京东上买到了 Mac mini，总之第一波 M1 的用户最近应该都可以拿到设备了。</p>
<p>现在这篇博客，就是在 ARM MBA 上编写的，使用的是 Intel 的 VSCode，毕竟 VSCode 的 ARM64 版不久后才正式发布。</p>
<h2 id="开箱">开箱</h2>
<p>从外观来看，一切都和 Intel MBA 一样，包装上也看不出区别，模具也是一样的。</p>
<p><img src="/images/arm_mac_1.png" alt=""></p>
<p>进了系统才能看得出区别。预装的系统是 macOS Big Sur 11.0，之后手动更新到了目前最新的 11.0.1。</p>
<p>顺带 <a href="https://github.com/FactorialN">@FactorialN</a> 同学提醒我在这里提一句：包装里有电源适配器，不太环保。</p>
<h2 id="体验">体验</h2>
<h3 id="arm64">ARM64</h3>
<p>首先自然是传统艺能，证明一下确实是 Apple Silicon：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ uname -a
</span></span><span style="display:flex;"><span>Darwin macbookair.lan 20.1.0 Darwin Kernel Version 20.1.0: Sat Oct <span style="color:#ae81ff">31</span> 00:07:10 PDT 2020; root:xnu-7195.50.7~2/RELEASE_ARM64_T8101 x86_64
</span></span></code></pre></div><p>啊对不起我用错了，上面是在 Rosetta 里面跑的 shell 看到的结果。实际是这样子的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ uname -a
</span></span><span style="display:flex;"><span>Darwin macbookair.lan 20.1.0 Darwin Kernel Version 20.1.0: Sat Oct <span style="color:#ae81ff">31</span> 00:07:10 PDT 2020; root:xnu-7195.50.7~2/RELEASE_ARM64_T8101 arm64
</span></span></code></pre></div><p>货真价实的 ARM64 内核，系统的很多 binary 也都是 Universal 的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ file /bin/bash
</span></span><span style="display:flex;"><span>/bin/bash: Mach-O universal binary with <span style="color:#ae81ff">2</span> architectures: <span style="color:#f92672">[</span>x86_64:Mach-O 64-bit executable x86_64<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>arm64e:Mach-O 64-bit executable arm64e<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>/bin/bash <span style="color:#f92672">(</span><span style="color:#66d9ef">for</span> architecture x86_64<span style="color:#f92672">)</span>:	Mach-O 64-bit executable x86_64
</span></span><span style="display:flex;"><span>/bin/bash <span style="color:#f92672">(</span><span style="color:#66d9ef">for</span> architecture arm64e<span style="color:#f92672">)</span>:	Mach-O 64-bit executable arm64e
</span></span></code></pre></div><h3 id="rosetta">Rosetta</h3>
<p>接着，就是重头戏 Rosetta 了。第一次打开 Intel 的程序的时候，会弹出窗口安装 Rosetta，确定以后立马就装好了。接着常用的各种软件啥的，都没有什么问题。</p>
<p>唯一能看出区别的，就是在 Activity Monitor 可以看到架构的区别：</p>
<p><img src="/images/arm_mac_2.png" alt=""></p>
<p>实际体验的时候，其实没有什么感觉。默认情况下，在 Terminal 下打开的是 ARM64 架构的，如果要切换的话，只需要：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ uname -m
</span></span><span style="display:flex;"><span>arm64
</span></span><span style="display:flex;"><span>$ arch -arch x86_64 uname -m
</span></span><span style="display:flex;"><span>x86_64
</span></span></code></pre></div><p>这样就可以了。如果开了一个 x86_64 的 shell，在 shell 里面执行的命令就都是 x86_64 架构的了。</p>
<h3 id="homebrew">Homebrew</h3>
<p>目前，Homebrew 的支持是这样子的，Intel 的 Homebrew 工作很正常，没有遇到任何问题。。ARM 的 Homebrew 目前还在进行移植，由于官方的 build farm 还没有支持 ARM，所以各种包都需要自己编译，试了几个常用的软件都没问题。</p>
<p>目前 Homebrew 推荐的方法是，在老地方 <code>/usr/local/Homebrew</code> 下面放 Intel 的 Homebrew，在 <code>/opt/homebrew</code> 下面放 ARM 的 Homebrew。虽然还是有很多警告，但目前来看基本使用都没有什么问题。Homebrew cask 也正常，毕竟基本就是一个下载器。</p>
<p>另外，试了一下用 ARM Homebrew 从源码编译 GCC，编译中途失败了。</p>
<h3 id="其他软件">其他软件</h3>
<p>换到 ARM 上自然会想到，之前的那些软件还能不能跑。答案是，大多都可以，只是很多还是 Intel 版走翻译而已。</p>
<p>目前已经测试过正常使用的：VSCode、Google Chrome、Alacrity、iStat Menus、Alfred、Rectangle、Typora、Microsoft Office、Karabiner Elements、Jetbrains Toolbox、WeChat、CineBench、Dozer、Squirrel、Zoom、Tencent Meeting、Seafile、Skim、Mendeley、1 Password、Wireshark、Slack、iMazing、Office for Mac。</p>
<p>这些里面已经移植到 ARM64 的有 Alfred、iStat Menus、Karabiner Elements、Rectangle、Google Chrome、Slack、Typora、iMazing、Office for Mac、Zoom、VSCode Insiders。</p>
<p>这里有一部分是已经移植到 ARM64 的，有一些也很快就会移植过来。其中 iStat Menus 的电池健康显示有点 BUG，其他没发现问题（更新：已修复）。</p>
<p>另外，大家也知道 ARM Mac 很重要的一点是可以跑 iOS Apps，我们也确实跑了一些，不过都有一些问题：</p>
<ul>
<li>Doodle Jump：跑起来很正常，就是卡关了，别问为什么，没有加速度计，再怎么晃电脑也不会动</li>
<li>Bilibili：部分内容可以加载出来，部分不可以，估计是什么组件没有配置好</li>
<li>QQ Music：可以跑起来，但是在启动之后的引导页面，期望用户点一下屏幕，但怎么用鼠标点都没反应</li>
<li>Weibo：毕竟正常，可以正常浏览啥都，就是 UI 有点错位，估计是因为显示窗口和实际都不大一样，小问题。</li>
<li>Network Tools：很正常，各种网络信息都可以正常取出来。</li>
<li>NFSee：没有 NFC 读卡功能，自然没法用。</li>
<li>彩云天气（ColorfulClouds Weather）：正常使用。</li>
</ul>
<p>其他还有很多 App 还没有测试。</p>
<h3 id="发热">发热</h3>
<p>大家也知道，这款 MBA 是没有风扇的。但我实际测试的过程中发现，确实不大需要。拿 stress 跑了一段时间 CPU 满载运行，也没感觉到电脑发热，只是在更新 macOS Big Sur 11.0.1 的时候稍微热了一点点，也只是一点点，距离烫手还有很长的距离。</p>
<p>续航方面目前来看也挺好的，捣鼓了一个下午，也没耗多少电。</p>
<h3 id="性能测试">性能测试</h3>
<p>在不同平台上进行 OpenSSL 测试：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ openssl speed -evp aes-128-cbc aes-256-cbc des-ede3 rsa2048 sha256
</span></span><span style="display:flex;"><span><span style="color:#75715e"># M1 MacBookAir</span>
</span></span><span style="display:flex;"><span>OpenSSL 1.1.1j  <span style="color:#ae81ff">16</span> Feb <span style="color:#ae81ff">2021</span>
</span></span><span style="display:flex;"><span>built on: Wed Feb <span style="color:#ae81ff">17</span> 12:34:00 <span style="color:#ae81ff">2021</span> UTC
</span></span><span style="display:flex;"><span>options:bn<span style="color:#f92672">(</span>64,64<span style="color:#f92672">)</span> rc4<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> des<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> aes<span style="color:#f92672">(</span>partial<span style="color:#f92672">)</span> idea<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> blowfish<span style="color:#f92672">(</span>ptr<span style="color:#f92672">)</span> 
</span></span><span style="display:flex;"><span>compiler: clang -fPIC -arch arm64 -O3 -Wall -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_BN_ASM_MONT -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DVPAES_ASM -DECP_NISTZ256_ASM -DPOLY1305_ASM -D_REENTRANT -DNDEBUG
</span></span><span style="display:flex;"><span>The <span style="color:#e6db74">&#39;numbers&#39;</span> are in 1000s of bytes per second processed.
</span></span><span style="display:flex;"><span>type             <span style="color:#ae81ff">16</span> bytes     <span style="color:#ae81ff">64</span> bytes    <span style="color:#ae81ff">256</span> bytes   <span style="color:#ae81ff">1024</span> bytes   <span style="color:#ae81ff">8192</span> bytes  <span style="color:#ae81ff">16384</span> bytes
</span></span><span style="display:flex;"><span>des ede3         30466.76k    30644.63k    30592.26k    30106.97k    29961.69k    29951.49k
</span></span><span style="display:flex;"><span>aes-256 cbc     229863.42k   238671.82k   232654.34k   237194.70k   238092.29k   237791.91k
</span></span><span style="display:flex;"><span>aes-128-cbc    1020384.58k  1427866.73k  1521123.84k  1558199.30k  1569978.99k  1566288.55k
</span></span><span style="display:flex;"><span>sha256          378646.12k  1140355.52k  1894169.69k  2287211.18k  2445602.42k  2453209.09k
</span></span><span style="display:flex;"><span>                  sign    verify    sign/s verify/s
</span></span><span style="display:flex;"><span>rsa <span style="color:#ae81ff">2048</span> bits 0.000561s 0.000014s   1782.0  69645.9
</span></span><span style="display:flex;"><span><span style="color:#75715e"># AMD EPYC 7742</span>
</span></span><span style="display:flex;"><span>OpenSSL 1.1.1d  <span style="color:#ae81ff">10</span> Sep <span style="color:#ae81ff">2019</span>
</span></span><span style="display:flex;"><span>built on: Mon Dec  <span style="color:#ae81ff">7</span> 20:44:45 <span style="color:#ae81ff">2020</span> UTC
</span></span><span style="display:flex;"><span>options:bn<span style="color:#f92672">(</span>64,64<span style="color:#f92672">)</span> rc4<span style="color:#f92672">(</span>8x,int<span style="color:#f92672">)</span> des<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> aes<span style="color:#f92672">(</span>partial<span style="color:#f92672">)</span> blowfish<span style="color:#f92672">(</span>ptr<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>compiler: gcc -fPIC -pthread -m64 -Wa,--noexecstack -Wall -Wa,--noexecstack -g -O2 -fdebug-prefix-map<span style="color:#f92672">=</span>/build/openssl-CKx7Fo/openssl-1.1.1d<span style="color:#f92672">=</span>. -fstack-protector-strong -Wformat -Werror<span style="color:#f92672">=</span>format-security -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DNDEBUG -Wdate-time -D_FORTIFY_SOURCE<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>The <span style="color:#e6db74">&#39;numbers&#39;</span> are in 1000s of bytes per second processed.
</span></span><span style="display:flex;"><span>type             <span style="color:#ae81ff">16</span> bytes     <span style="color:#ae81ff">64</span> bytes    <span style="color:#ae81ff">256</span> bytes   <span style="color:#ae81ff">1024</span> bytes   <span style="color:#ae81ff">8192</span> bytes  <span style="color:#ae81ff">16384</span> bytes
</span></span><span style="display:flex;"><span>des ede3         28734.07k    28942.08k    28982.78k    29217.91k    29136.21k    29103.45k
</span></span><span style="display:flex;"><span>aes-256 cbc     176843.84k   183040.83k   183156.82k   184132.61k   184464.73k   184642.22k
</span></span><span style="display:flex;"><span>aes-128-cbc     602680.15k  1178207.32k  1239931.82k  1251810.30k  1258359.47k  1261316.78k
</span></span><span style="display:flex;"><span>sha256          201482.20k   513504.00k  1075572.14k  1474850.82k  1648746.50k  1663030.61k
</span></span><span style="display:flex;"><span>                  sign    verify    sign/s verify/s
</span></span><span style="display:flex;"><span>rsa <span style="color:#ae81ff">2048</span> bits 0.000620s 0.000018s   1613.7  54756.4
</span></span><span style="display:flex;"><span><span style="color:#75715e"># AMD EPYC 7282</span>
</span></span><span style="display:flex;"><span>OpenSSL 1.1.1d  <span style="color:#ae81ff">10</span> Sep <span style="color:#ae81ff">2019</span>
</span></span><span style="display:flex;"><span>built on: Mon Apr <span style="color:#ae81ff">20</span> 20:23:01 <span style="color:#ae81ff">2020</span> UTC
</span></span><span style="display:flex;"><span>options:bn<span style="color:#f92672">(</span>64,64<span style="color:#f92672">)</span> rc4<span style="color:#f92672">(</span>8x,int<span style="color:#f92672">)</span> des<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> aes<span style="color:#f92672">(</span>partial<span style="color:#f92672">)</span> blowfish<span style="color:#f92672">(</span>ptr<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>compiler: gcc -fPIC -pthread -m64 -Wa,--noexecstack -Wall -Wa,--noexecstack -g -O2 -fdebug-prefix-map<span style="color:#f92672">=</span>/build/openssl-8Ocme2/openssl-1.1.1d<span style="color:#f92672">=</span>. -fstack-protector-strong -Wformat -Werror<span style="color:#f92672">=</span>format-security -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DNDEBUG -Wdate-time -D_FORTIFY_SOURCE<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>The <span style="color:#e6db74">&#39;numbers&#39;</span> are in 1000s of bytes per second processed.
</span></span><span style="display:flex;"><span>type             <span style="color:#ae81ff">16</span> bytes     <span style="color:#ae81ff">64</span> bytes    <span style="color:#ae81ff">256</span> bytes   <span style="color:#ae81ff">1024</span> bytes   <span style="color:#ae81ff">8192</span> bytes  <span style="color:#ae81ff">16384</span> bytes
</span></span><span style="display:flex;"><span>des ede3         27052.31k    27392.85k    27455.57k    27569.49k    27503.27k    27514.20k
</span></span><span style="display:flex;"><span>aes-256 cbc     158578.10k   168502.21k   172365.91k   173904.90k   174391.30k   174429.53k
</span></span><span style="display:flex;"><span>aes-128-cbc     594506.35k  1111762.07k  1169014.02k  1184384.00k  1192793.56k  1189167.10k
</span></span><span style="display:flex;"><span>sha256          194382.61k   487875.93k  1017121.56k  1390122.33k  1558735.53k  1572274.18k
</span></span><span style="display:flex;"><span>                  sign    verify    sign/s verify/s
</span></span><span style="display:flex;"><span>rsa <span style="color:#ae81ff">2048</span> bits 0.000655s 0.000019s   1526.8  52089.2
</span></span><span style="display:flex;"><span><span style="color:#75715e"># AMD EPYC 7551</span>
</span></span><span style="display:flex;"><span>OpenSSL 1.1.1d  <span style="color:#ae81ff">10</span> Sep <span style="color:#ae81ff">2019</span>
</span></span><span style="display:flex;"><span>built on: Tue Feb <span style="color:#ae81ff">16</span> 22:08:43 <span style="color:#ae81ff">2021</span> UTC
</span></span><span style="display:flex;"><span>options:bn<span style="color:#f92672">(</span>64,64<span style="color:#f92672">)</span> rc4<span style="color:#f92672">(</span>8x,int<span style="color:#f92672">)</span> des<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> aes<span style="color:#f92672">(</span>partial<span style="color:#f92672">)</span> blowfish<span style="color:#f92672">(</span>ptr<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>compiler: gcc -fPIC -pthread -m64 -Wa,--noexecstack -Wall -Wa,--noexecstack -g -O2 -fdebug-prefix-map<span style="color:#f92672">=</span>/build/openssl-m9Qnvk/openssl-1.1.1d<span style="color:#f92672">=</span>. -fstack-protector-strong -Wformat -Werror<span style="color:#f92672">=</span>format-security -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DNDEBUG -Wdate-time -D_FORTIFY_SOURCE<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>The <span style="color:#e6db74">&#39;numbers&#39;</span> are in 1000s of bytes per second processed.
</span></span><span style="display:flex;"><span>type             <span style="color:#ae81ff">16</span> bytes     <span style="color:#ae81ff">64</span> bytes    <span style="color:#ae81ff">256</span> bytes   <span style="color:#ae81ff">1024</span> bytes   <span style="color:#ae81ff">8192</span> bytes  <span style="color:#ae81ff">16384</span> bytes
</span></span><span style="display:flex;"><span>des ede3         20850.88k    21260.78k    21315.84k    21368.49k    21321.05k    21392.04k
</span></span><span style="display:flex;"><span>aes-256 cbc     122059.94k   125701.42k   126591.06k   126770.52k   127049.73k   126937.77k
</span></span><span style="display:flex;"><span>aes-128-cbc     441625.34k   883733.48k   928208.21k   941480.96k   944889.86k   945307.65k
</span></span><span style="display:flex;"><span>sha256          151161.13k   388304.60k   809272.15k  1106645.33k  1238966.27k  1249219.93k
</span></span><span style="display:flex;"><span>                  sign    verify    sign/s verify/s
</span></span><span style="display:flex;"><span>rsa <span style="color:#ae81ff">2048</span> bits 0.001096s 0.000033s    912.8  30284.7
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Intel Xeon E5-2699 v4 (Broadwell)</span>
</span></span><span style="display:flex;"><span>OpenSSL 1.0.2u  <span style="color:#ae81ff">20</span> Dec <span style="color:#ae81ff">2019</span>
</span></span><span style="display:flex;"><span>built on: reproducible build, date unspecified
</span></span><span style="display:flex;"><span>options:bn<span style="color:#f92672">(</span>64,64<span style="color:#f92672">)</span> rc4<span style="color:#f92672">(</span>16x,int<span style="color:#f92672">)</span> des<span style="color:#f92672">(</span>idx,cisc,16,int<span style="color:#f92672">)</span> aes<span style="color:#f92672">(</span>partial<span style="color:#f92672">)</span> idea<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> blowfish<span style="color:#f92672">(</span>idx<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>compiler: gcc -I. -I.. -I../include  -fPIC -DOPENSSL_PIC -DOPENSSL_THREADS -D_REENTRANT -DDSO_DLFCN -DHAVE_DLFCN_H -Wa,--noexecstack -m64 -DL_ENDIAN -O3 -Wall -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DRC4_ASM -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DMD5_ASM -DAES_ASM -DVPAES_ASM -DBSAES_ASM -DWHIRLPOOL_ASM -DGHASH_ASM -DECP_NISTZ256_ASM
</span></span><span style="display:flex;"><span>The <span style="color:#e6db74">&#39;numbers&#39;</span> are in 1000s of bytes per second processed.
</span></span><span style="display:flex;"><span>type             <span style="color:#ae81ff">16</span> bytes     <span style="color:#ae81ff">64</span> bytes    <span style="color:#ae81ff">256</span> bytes   <span style="color:#ae81ff">1024</span> bytes   <span style="color:#ae81ff">8192</span> bytes
</span></span><span style="display:flex;"><span>des ede3         29863.80k    30156.69k    30243.07k    30237.70k    30302.21k
</span></span><span style="display:flex;"><span>aes-256 cbc     103491.45k   110240.94k   112029.95k   112400.38k   112833.88k
</span></span><span style="display:flex;"><span>aes-128-cbc     734225.68k   788483.88k   802857.39k   805860.69k   807848.62k
</span></span><span style="display:flex;"><span>sha256           82720.89k   184528.45k   342888.28k   425826.30k   457149.10k
</span></span><span style="display:flex;"><span>                  sign    verify    sign/s verify/s
</span></span><span style="display:flex;"><span>rsa <span style="color:#ae81ff">2048</span> bits 0.000573s 0.000017s   1745.5  60236.3
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Intel Xeon E5-2680 v4 (Broadwell) TODO</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Intel Xeon Gold 5218 (Cascade Lake) TODO</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># IBM POWER8NVL</span>
</span></span><span style="display:flex;"><span>OpenSSL 1.1.1  <span style="color:#ae81ff">11</span> Sep <span style="color:#ae81ff">2018</span>
</span></span><span style="display:flex;"><span>built on: Wed Feb <span style="color:#ae81ff">17</span> 12:35:54 <span style="color:#ae81ff">2021</span> UTC
</span></span><span style="display:flex;"><span>options:bn<span style="color:#f92672">(</span>64,64<span style="color:#f92672">)</span> rc4<span style="color:#f92672">(</span>char<span style="color:#f92672">)</span> des<span style="color:#f92672">(</span>int<span style="color:#f92672">)</span> aes<span style="color:#f92672">(</span>partial<span style="color:#f92672">)</span> blowfish<span style="color:#f92672">(</span>ptr<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>compiler: gcc -fPIC -pthread -m64 -Wa,--noexecstack -Wall -Wa,--noexecstack -g -O3 -fdebug-prefix-map<span style="color:#f92672">=</span>/build/openssl-avwOZX/openssl-1.1.1<span style="color:#f92672">=</span>. -fstack-protector-strong -Wformat -Werror<span style="color:#f92672">=</span>format-security -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_BN_ASM_MONT -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DAES_ASM -DVPAES_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DNDEBUG -Wdate-time -D_FORTIFY_SOURCE<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>The <span style="color:#e6db74">&#39;numbers&#39;</span> are in 1000s of bytes per second processed.
</span></span><span style="display:flex;"><span>type             <span style="color:#ae81ff">16</span> bytes     <span style="color:#ae81ff">64</span> bytes    <span style="color:#ae81ff">256</span> bytes   <span style="color:#ae81ff">1024</span> bytes   <span style="color:#ae81ff">8192</span> bytes  <span style="color:#ae81ff">16384</span> bytes
</span></span><span style="display:flex;"><span>des ede3         25120.65k    25479.70k    25570.13k    25604.10k    25616.38k    25613.65k
</span></span><span style="display:flex;"><span>aes-256 cbc      79140.44k    82350.23k    83815.94k    84183.72k    84290.22k    84306.60k
</span></span><span style="display:flex;"><span>aes-128-cbc     310027.28k   647168.64k   890896.81k   984001.19k  1014827.69k  1017096.87k
</span></span><span style="display:flex;"><span>sha256           58347.98k   151006.68k   286465.28k   373490.69k   411044.52k   414012.76k
</span></span><span style="display:flex;"><span>                  sign    verify    sign/s verify/s
</span></span><span style="display:flex;"><span>rsa <span style="color:#ae81ff">2048</span> bits 0.001442s 0.000040s    693.5  25212.7
</span></span></code></pre></div><h2 id="总结">总结</h2>
<p>总的来说，还是挺香的。不错的性能，没有风扇的喧闹，没有烫手的键盘。可能有少部分软件还不能正常运行，然后很多程序还需要 Rosetta 翻译，但目前来看兼容性还是挺不错的，并且这些应该明年就都适配地差不多了吧。</p>

        </div>

        
        
        <div class="article-toc" style="display:none;">
            <h3>Contents</h3>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#购买">购买</a></li>
    <li><a href="#开箱">开箱</a></li>
    <li><a href="#体验">体验</a>
      <ul>
        <li><a href="#arm64">ARM64</a></li>
        <li><a href="#rosetta">Rosetta</a></li>
        <li><a href="#homebrew">Homebrew</a></li>
        <li><a href="#其他软件">其他软件</a></li>
        <li><a href="#发热">发热</a></li>
        <li><a href="#性能测试">性能测试</a></li>
      </ul>
    </li>
    <li><a href="#总结">总结</a></li>
  </ul>
</nav>
        </div>
        
        

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
        <script>
            (function() {
                var $toc = $('#TableOfContents');
                if ($toc.length > 0) {
                    var $window = $(window);

                    function onScroll(){
                        var currentScroll = $window.scrollTop();
                        var h = $('.article-entry h1, .article-entry h2, .article-entry h3, .article-entry h4, .article-entry h5, .article-entry h6');
                        var id = "";
                        h.each(function (i, e) {
                            e = $(e);
                            if (e.offset().top - 10 <= currentScroll) {
                                id = e.attr('id');
                            }
                        });
                        var active = $toc.find('a.active');
                        if (active.length == 1 && active.eq(0).attr('href') == '#' + id) return true;

                        active.each(function (i, e) {
                            $(e).removeClass('active').siblings('ul').hide();
                        });
                        $toc.find('a[href="#' + id + '"]').parentsUntil('#TableOfContents').each(function (i, e) {
                            $(e).children('a').addClass('active').siblings('ul').show();
                        });
                    }

                    $window.on('scroll', onScroll);
                    $(document).ready(function() {
                        $toc.find('a').parent('li').find('ul').hide();
                        onScroll();
                        document.getElementsByClassName('article-toc')[0].style.display = '';
                    });
                }
            })();
        </script>
        


        
        <footer class="article-footer">
            <ul class="article-tag-list">
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/m1">m1
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/macbookair">macbookair
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/applesilicon">applesilicon
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/macos">macos
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/arm">arm
                    </a>
                </li>
                
                <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/arm64">arm64
                    </a>
                </li>
                
            </ul>
        </footer>
        
    </div>
    
<nav id="article-nav">
    
    <a href="/programming/2020/12/04/workaround-rust-on-m1/" id="article-nav-newer" class="article-nav-link-wrap">
        <div class="article-nav-title"><span>&lt;</span>&nbsp;
            Rust 在 M1 上的 Code Signing 问题和临时解决方法
        </div>
    </a>
    
    
    <a href="/software/2020/11/08/spack-openmpi-slurm-external/" id="article-nav-older" class="article-nav-link-wrap">
        <div class="article-nav-title">在 Spack 中用 external 的 Slurm 依赖编译 OpenMPI&nbsp;<span>&gt;</span></div>
    </a>
    
</nav>


</article>

        
            <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jiegec" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
    </section>
    <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2023 杰哥的{运维,编程,调板子}小笔记
            <br />
            Powered by <a href="https://gohugo.io" target="_blank">Hugo</a> with theme <a href="https://github.com/carsonip/hugo-theme-minos" target="_blank">Minos</a>
        </div>
    </div>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3109FRSVTT"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-3109FRSVTT', { 'anonymize_ip': false });
}
</script>


    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.6/katex.min.css" integrity="sha384-ZPe7yZ91iWxYumsBEOn7ieg8q/o+qh/hQpSaPow8T6BwALcXSCS6C6fSRPIAnTQs" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.6/katex.min.js" integrity="sha384-ljao5I1l+8KYFXG7LNEA7DyaFvuvSCmedUf6Y6JI7LJqiu8q5dEivP2nDdFH31V4" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.6/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
        <script>renderMathInElement(document.body);</script>
    
    <script>
        document.getElementById('main-nav-toggle').addEventListener('click', function () {
            var header = document.getElementById('header');
            if (header.classList.contains('mobile-on')) {
                header.classList.remove('mobile-on');
            } else {
                header.classList.add('mobile-on');
            }
        });
    </script>
</footer>

</div>
</body>
</html>
