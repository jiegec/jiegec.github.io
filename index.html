<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="https://jiegec.me/" />
  <script type="text/javascript">
    var host = "jiegec.github.io";
    if ((host == window.location.host) && (window.location.protocol !== 'https:'))
      window.location = 'https://' + window.location.hostname + window.location.pathname + window.location.hash;
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

  <title>杰哥的{运维,编程}小笔记</title>
  <meta name="description" content="This is the personal blog of Jiajie Chen, a NANO(uNix hAcker aNd lOver).
">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://jiegec.me/">
  <link rel="alternate" type="application/rss+xml" title="杰哥的{运维,编程}小笔记" href="https://jiegec.me/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">杰哥的{运维,编程}小笔记</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/tags/">Tags</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

  <h1 class="page-heading">Posts</h1>

  <p class="rss-subscribe">subscribe this blog <a href="/feed.xml">via RSS</a>
  </p>

  <ul class="post-list">
    
      <li>
        <span class="post-meta">May 29, 2018</span>

        <h2>
          <a class="post-link" href="/phone/2018/05/29/flashing-lineageos-in-nexus6p/">向 Nexus 6P 中刷入 LineageOS 实践</a>
        </h2>

        <span> Nexus 6P 自带的系统没有允许 Root ，所以需要自己解锁 bootloader 并且刷上别的系统。我选择了 LineageOS 。Nexus 6P 的代号为 angler， 首先可以找到官方的安装教程。 我们需要下载的东西： $ wget https://mirrorbits.lineageos.org/full/angler/20180521/lineage-15.1-20180521-nightly-angler-signed.zip $ wget https://mirrorbits.lineageos.org/full/angler/20180521/lineage-15.1-20180521-nightly-angler-signed.zip?sha256 -O lineage-15.1-20180521-nightly-angler-signed.zip.sha256 $ wget https://mirrorbits.lineageos.org/su/addonsu-15.1-arm64-signed.zip $ wget https://mirrorbits.lineageos.org/su/addonsu-15.1-arm64-signed.zip?sha256 -O addonsu-15.1-arm64-signed.zip $ wget...</span>
      </li>
    
      <li>
        <span class="post-meta">May 25, 2018</span>

        <h2>
          <a class="post-link" href="/os/2018/05/25/opening-tty-terminal-in-wsl/">在 WSL 上开启一个 getty 到串口的方法</a>
        </h2>

        <span> 为了测试一个硬件的 terminal ，想在 Windows 上向串口开一个 tty ，跑各种软件来测试。这件事情在 Linux 上和 macOS 上都有实践，但一直不知道 Windows 上怎么搞。经过了一番搜索，找到了 https://blogs.msdn.microsoft.com/wsl/2017/04/14/serial-support-on-the-windows-subsystem-for-linux/ 和 https://unix.stackexchange.com/a/123559 的方案。 以 COM5 为例： $ sudo chmod 666 /dev/ttyS5 $ sudo agetty -s 115200 ttyS5 linux...</span>
      </li>
    
      <li>
        <span class="post-meta">May 24, 2018</span>

        <h2>
          <a class="post-link" href="/os/2018/05/24/trying-fedora-on-riscv/">体验 Fedora on RISCV</a>
        </h2>

        <span> 看到 RISCV 很久了，但一直没能体验。最近工具链不断更新， QEMU 在 2.12.0 也正式加入了 riscv 的模拟。但是自己编译一个内核又太麻烦，就找到了 Fedora 做的 RISCV port，下载下来试用了一下。之前试过一次，但是遇到了一些问题，刚才总算是成功地搞出来了。 官方文档地址： https://fedorapeople.org/groups/risc-v/disk-images/readme.txt 首先下载 https://fedorapeople.org/groups/risc-v/disk-images/ 下的 bbl vmlinux 和 stage4-disk.img.xz 三个文件，然后解压 stage4-disk.img.xz ，大约有 5G 的样子。之前作者在脚本里作死开得特别大，导致我以前光是解压这一步就成功不了。现在终于解决了。 然后启动 qemu 命令打开虚拟机： qemu-system-riscv64 \...</span>
      </li>
    
      <li>
        <span class="post-meta">May 20, 2018</span>

        <h2>
          <a class="post-link" href="/devops/2018/05/20/deploy-vcsa-under-esxi/">在 VMware ESXi 上部署 vCSA 实践</a>
        </h2>

        <span> 首先获取 vCSA 的 ISO 镜像，挂载到 Linux 下（如 /mnt），然后找到 /mnt/vcsa-cli-installer/templates/install 下的 embedded_vCSA_on_ESXi.json ，复制到其它目录并且修改必要的字段，第一个 password 为 ESXi 的登录密码，一会在安装的过程中再输入。下面有个 deployment_option，根据你的集群大小来选择，我则是用的 small 。下面配置这台机器的 IP 地址，用内网地址即可。下面的 system_name 如果要写 fqdn ，记得要让这个域名可以解析到正确的地址，不然会安装失败，我因此重装了一次。下面的密码都可以留空，在命令行中输入即可。SSO 为 vSphere Client 登录时用的密码和域名，默认用户名为 Administrator@domain_name (默认的话，则是 Administrator@vsphere.local)...</span>
      </li>
    
      <li>
        <span class="post-meta">May 11, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/05/11/finding-x11-display-and-xauthority/">在脚本中寻找 X11 的 DISPLAY 和 XAUTHORITY</a>
        </h2>

        <span> 之前在搞一个小工具，在里面需要访问 X11 server ，但是访问 X11 server 我们需要两个东西：DISPLAY和XAUTHORITY两个环境变量。但是，由于它们在不同的发型版和Display Manager下都有些不同，所以花了不少功夫才写了一些。 为了验证我们是否可以连上 X11 server， 我们使用这一句： DIMENSIONS=$(xdpyinfo | grep 'dimensions:' | awk '{print $2;exit}') 它尝试打开当前的 DISPLAY，并且输出它的分辨率。接下来，我对不同的一些发型版，综合网上的方法，尝试去找到正确的环境变量。 对于 Debian: DISPLAY=$(w -hs | awk -v tty="$(cat /sys/class/tty/tty0/active)" '$2...</span>
      </li>
    
      <li>
        <span class="post-meta">May 9, 2018</span>

        <h2>
          <a class="post-link" href="/networking/2018/05/09/tinc-between-macos-and-linux/">在 macOS 和 Linux 之间搭建 tinc 网络</a>
        </h2>

        <span> 一直听说 tinc 比较科学，所以尝试自己用 tinc 搭建一个网络。这里，macOS 这段没有固定 IP 地址，Linux 机器有固定 IP 地址 linux_ip 。假设网络名称为 example , macOS 端名为 macos 地址为 192.168.0.2, linux 端名为 linux 地址为 192.168.0.1。 在 macOS 上配置： brew install tinc mkdir...</span>
      </li>
    
      <li>
        <span class="post-meta">May 8, 2018</span>

        <h2>
          <a class="post-link" href="/networking/2018/05/08/nginx-proxy-vmware-esxi/">使用 Nginx 转发 VMware ESXi</a>
        </h2>

        <span> 我们的 VMware ESXi 在一台 NAT Router 之后，但是我们希望通过域名可以直接访问 VMware ESXi 。我们首先的尝试是，把 8443 转发到它的 443 端口，比如： socat TCP-LISTEN:8443,reuseaddr,fork TCP:esxi_addr:443 它能工作地很好（假的，如果你把 8443 换成 9443 它就不工作了），但是，我们想要的是，直接通过 esxi.example.org 就可以访问它。于是，我们需要 Nginx 在其中做一个转发的功能。在这个过程中遇到了很多的坑，最后终于是做好了 （VMware Remote Console等功能还不行，需要继续研究）。 首先讲讲为啥把 8443 换成...</span>
      </li>
    
      <li>
        <span class="post-meta">May 8, 2018</span>

        <h2>
          <a class="post-link" href="/networking/2018/05/08/ftp-behind-nat/">搭建 FTP server behind NAT</a>
        </h2>

        <span> 我们出现新的需求，要把以前的 FTP 服务器迁移到 NAT 之后的一台机器上。但是，FTP 不仅用到 20 21 端口， PASV 还会用到高端口，这给端口转发带来了一些麻烦。我们一开始测试，直接在 Router 上转发 20 和 21 端口到 Server 上。但是很快发现， Filezilla 通过 PASV 获取到地址为 （内网地址，端口高8位，端口低8位），然后，Filezilla 检测出这个地址是内网地址，于是转而向 router_ip:port 发包，这自然是不会得到结果的。 此时我们去网上找了找资料，找到了一个很粗暴的方法： iptables -A PREROUTING -i...</span>
      </li>
    
      <li>
        <span class="post-meta">May 6, 2018</span>

        <h2>
          <a class="post-link" href="/networking/2018/05/06/nat-forwarding-with-src-address/">使用 iptables 和策略路由进行带源地址的 forwarding</a>
        </h2>

        <span> 陈老师打开他的服务器，突然发现 CPU 莫名高负载，然后发现是有一个用户被远程登录拿来挖矿了。但是这台机器在 NAT 后，所以登录的源地址全是 NAT 路由，所以不知道对方的地址是什么。我们为了能使用 fail2ban 来禁用多次尝试失败的 IP ，但又不想因为别人把 NAT 路由的地址给禁了，这样我们自己也用不了了。所以必须要让这台机器能够知道 ssh 的源地址，我们现在简单的 socat 方案不能满足这个需求。 需求： 可以在外网连 NAT 路由的高端口（如2222）来访问这台机器。 在内网中，既可以直接连它的内网地址，也可以连 NAT 路由的高端口来访问这台服务器。此时，由于连 ssh 的机器就在同一个子网中，如果保留了源地址，服务器发的包会直接回来不经过 NAT 。所以我们还是保留了 socat 的方案。 实现方法： 在...</span>
      </li>
    
      <li>
        <span class="post-meta">May 5, 2018</span>

        <h2>
          <a class="post-link" href="/networking/2018/05/05/mosh-behind-nat-with-upnp/">利用 UPnP 协议进行 mosh NAT 穿透的研究</a>
        </h2>

        <span> 由于经常要从宿舍、教室等不同的 Wi-Fi 之间切换，但是 ssh 连接又总是断，所以想用 mosh 代替 ssh 。但是 mosh 也有它的问题： 不能滚动。这个可以在 mosh 中嵌套一层 tmux 解决。我目前写了一些自动 mosh 后打开 tmux 并且开启鼠标支持的脚本，但还是有缺陷。 在高端口 60000+ 监听 UDP ，这使得 NAT 后的服务器难以直接通过端口转发。如果直接转发到 NAT 后的机器，那么 NAT 后面如果有多台机器，这又失效了。 于是找了找网上的...</span>
      </li>
    
      <li>
        <span class="post-meta">May 5, 2018</span>

        <h2>
          <a class="post-link" href="/system/2018/05/05/windows-ad-linux-pam/">在 Archlinux 上用 winbind 配合 pam 配置 Windows AD 认证登录</a>
        </h2>

        <span> 作为不清真的网络管理员，为了配置一套完整的统一认证系统，陈老师采用了 Windows AD 的方法给这里配置统一认证。重装了系统，自然要把之前的统一认证再配到新装的 Archlinux 上。 参考资料： Active Directory Integration 首先安装相应的包： pacman -S samba 我们还没有配好 Kerberos，所以跳过。 然后配置 /etc/samba/smb.conf ，以下是一个例子。可以根据文档微调。 [global] security = ads realm = YOUR-AD-HERE workgroup = YOUR-GROUP-HERE idmap uid =...</span>
      </li>
    
      <li>
        <span class="post-meta">May 1, 2018</span>

        <h2>
          <a class="post-link" href="/system/2018/05/01/installing-arch-experience/">在服务器上安装 Archlinux 记录</a>
        </h2>

        <span> 有一台服务器的 Ubuntu 挂了，我们想在上面重装一个 Archlinux 。我们首先下载了 archlinux-2018.04.01 的 ISO, 直接 dd 到 U 盘上，但是遇到了问题。 首先遇到的问题是，一启动之后就会花屏。我们一开始怀疑是 NVIDIA 驱动的问题，于是想改 kernel param 但是发现，这个 ISO 是 hybrid 的，我们在 macOS 和 Windows 上都不能 mount 上这种类型的盘。于是我们选择自己搞分区表。我们把 U 盘插到电脑上，然后在 Linux...</span>
      </li>
    
      <li>
        <span class="post-meta">Apr 28, 2018</span>

        <h2>
          <a class="post-link" href="/networking/2018/04/28/wifi-with-cisco-ac-and-ap/">使用 Cisco AC + AP 组合搭建网络实践</a>
        </h2>

        <span> 有一台已配置好直接可用的 AC 在地址 ac-address 。我们需要搭建交换机 + AP 的网络，并且用一台 Linux 服务器进行 DHCP 从而给 AP 分发 AC 的地址。这里以 systemd-networkd 为例。 我们约定，vlan 2 上联外网， vlan 3 为 Linux 服务器和 AP 的内部网络。 接下来，配置交换机给 Linux 服务器的端口为 trunk...</span>
      </li>
    
      <li>
        <span class="post-meta">Apr 17, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/04/17/downgrade-gdb/">把 GDB 降级到 8.0.1</a>
        </h2>

        <span> 在 macOS 上使用 GDB 需要 codesigning 。但是在 GDB 升级到 8.1 后这种方法不知道为何失效了。所以我安装回了 GDB 8.0.1 并且重新 codesigning ，现在又可以正常升级了。 对 Formula 进行 patch： diff --git a/Formula/gdb.rb b/Formula/gdb.rb index 29a1c590..25360893 100644 --- a/Formula/gdb.rb +++ b/Formula/gdb.rb @@...</span>
      </li>
    
      <li>
        <span class="post-meta">Apr 10, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/04/10/thoughts-on-stanford-cs140e-8/">近来做 Stanford CS140e 的一些进展和思考（8）</a>
        </h2>

        <span> 在上一篇文章之后，我其实还是很忙，但是一直心理惦记着这件事，毕竟只剩最后的一点点就可以做完了，不做完总是觉得心痒。 今天做的部分是调度。我们目前只在 EL0 运行了一个 shell ，每当触发 exception 时回到 kernel 进行处理，再回到原来的地方。但现在，我要实现一个 preemtive round-robin scheduler ，就需要管理当前的所有进程，并且维护当前的进程状态，当时钟中断到来的时候，决定下一个 time slice 要执行的进程，再切换过去。这个过程当然会遇到不少的坑。 首先，我们需要判断一个进程是否可以执行了。考虑到阻塞的 IO ，作者提供了一个优雅的方法：如果这个进程阻塞在 IO 上，那么，提供一个函数，在 scheduler 中调用，判断所需要的数据是否到达。这样，我们就可以一个循环把下一个 time slice 要执行的线程找到。如果找不到，就等待 interrupt 再尝试。 困难的地方在于，在启动的时候，切换到一个起始线程。并且在上下文切换的时候，在 process 1...</span>
      </li>
    
      <li>
        <span class="post-meta">Apr 7, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/04/07/thoughts-on-stanford-cs140e-7/">近来做 Stanford CS140e 的一些进展和思考（7）</a>
        </h2>

        <span> 在上一篇文章之后，我很长时间都没有在继续我这个项目，清明节刚好闲下来了我就回来继续啃它。Stanford那边已经结课，最后的 3-spawn 也只有一部分，剩下的部分不知道什么时候作者才会填上去了。 这次主要要写的代码就是，对异常的处理。这里的异常并不是我们编程语言中的 catch/throw ，而是硬件的异常。AArch64 和 x86 一样，也有不同的特权级别的区分，前者是 EL0~EL3 ，后者则是 RING0 和 RING3 。特权级别高可以往特权级别低转换，但是反过来，只能通过异常的方式提高特权等级，并且切换特权等级后只有固定的一些代码可能会跳转，这就是 exception handler/vectors 。这些函数可以知道是什么原因调用了他们，根据硬件规定好的文档，我们可以知道发生了什么事情，是对齐出错了呢，还是用户调用了 syscall 呢，等等。根据不同的情况，我们需要进行不同的处理。当处理完之后，我们需要考虑，跳转回用户代码的时候，回到哪里，提供什么值，不提供什么。 实现的话，需要很多步骤。首先是构造好 exception vector ，这里作者已经写好了一个宏（这里 @BenYip 遇到了一个 assembler 的 BUG ），直接用宏就可以把它写出来。然后，我们需要把它加载到当前 EL 的...</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 26, 2018</span>

        <h2>
          <a class="post-link" href="/others/2018/03/26/busy-these-days/">最近比较忙</a>
        </h2>

        <span> 最近一直没有更新我的 CS140e 系列文章，是因为最近一直忙于各种事情。等有空了再更新吧。
</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 8, 2018</span>

        <h2>
          <a class="post-link" href="/others/2018/03/08/encountering-wu-wenhu/">偶遇清华吴文虎教授</a>
        </h2>

        <span> 今天百团大战，正准备收摊的时候，天空工场那边来了一位长者，在和他们聊着什么。我很感兴趣，就上去听。老人大概已有八十高龄（后来查，是1936年生），但依然精神矍铄，首先和我们讲，作为工科的学生，一定在理解原理的基础上，多多去实践。他举了他自己的例子，他首先在电机系学习，后来，计算机系成立（当时还是自动控制系），他转到了计算机系，重新学起了计算机，说计算机编程学起来并没有什么难的。当年，苹果公司送过来了中国第一台 Apple-2 ，他们就把电脑拆了下来研究原理，又装上去继续工作。后来，他就在计算机系任教，教的正是《程序设计基础》这门课程。他十分重视实践，在第一年开课的时候就说，最关键的就是实践，安排了一些编程实验课，期中期末就是大作业。一开始有一些同学不重视实践，结果期末就挂科了。后来同学们就明白了实践的重要性，实践起来发现并没有那么难，最后就说，“吴老师，你说得对”。他又谈到了他的体育，他当年是北京长跑代表队的集训队选手，擅长一千五百米项目，他三千米只需要九分钟就能跑完。我们都感到自愧不如。我们说，现在的《程序设计基础》是徐明星老师在教，他说徐明星是他的博士生，邬晓钧也是他的博士生，他另外还有一个高徒我记不清楚了。他还是IOI中国队的前教练，听到我们有过一些OI基础，表示了赞许和鼓励。还有一些细节记不清楚了，记起来了再补充吧。

</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 7, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/03/07/breaking-C++-weak-access-control/">〖新手向〗绕过 C++ 类的访问限制</a>
        </h2>

        <span> 这是一篇很水的文章，面向萌新，已经知道了的可以自觉绕道。 昨天上课，有同学问，如果用户偷偷把 private 改成 public 再和原有的库链接，是不是就可以在用户代码里更改了。这个答案是肯定的。下面我们就做个实验： 首先，创建 good_class.h 和 good_class.cpp: class SomeClass { private: int data; public: int getData(); }; #include "good_class.h" int SomeClass::getData() { return data; } 然后，首先编译， clang++ -c good_class.cpp...</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 5, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/03/05/thoughts-on-stanford-cs140e-6/">近来做 Stanford CS140e 的一些进展和思考（6）</a>
        </h2>

        <span> 在上一篇文章之后，作者终于更新了测试的用例，我的程序终于可以成功跑过所有测试，也成功在树莓派跑起来。不过，我的代码中很多地方的错误处理比较偷懒，往往直接 panic ，显然并不友好。同时，我想到了使用 cargo-fuzz 来进行自动化测试，果然，使用这个很快就修复了不少我没想到的会出错的地方，比如乘法溢出，目录项没有正确结束等等。目前还发现一个 timeout 的问题，研究发现大概是文件的 cluster chain 中出现了环，导致一直读取文件而没有停止。要解决这个问题，我目前想到的是 Floyd 的判圈算法，但还没上实现。等过几天，新的 Assignment 3 出了以后，再继续更新。希望作者少点跳票，多点勤奋，哈哈哈哈哈
</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 3, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/03/03/thoughts-on-stanford-cs140e-5/">近来做 Stanford CS140e 的一些进展和思考（5）</a>
        </h2>

        <span> 在上一篇文章之后，作者多次延期跳票之后（again），终于放出了 Assignment 2 Phase 3: Saddle Up 。这次，我们要做的变成了把已经写好的（错漏百出）的 fat32 的驱动搬到树莓派里面去，然后实现一些基本的 shell 命令： ls cat cd 等等。作者首先更新了老版本的新的测试样例，放了一些映像然后提供了预期的结果，结果发现，这里的 fat32 有一些不同，主要的就是 bytes_per_sector 不是 512 了，意味着物理的扇区和逻辑扇区并不一致。同时， sectors_per_cluster 也不是 1 了，需要考虑多个扇区的情况。同时， read_cluster 传入的 offset 也可能不再是第一个 sector 中的，所以需要做一个处理。对于物理和逻辑扇区的问题，作者推荐的方案是，把...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 27, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/02/27/thoughts-on-stanford-cs140e-4/">近来做 Stanford CS140e 的一些进展和思考（4）</a>
        </h2>

        <span> 在上一篇文章之后，作者多次延期跳票之后，终于放出了 Assignment 2 Phase 2:32-bit Lipids ，这两天就把只读 FAT32 写完了（不过封装得并不好，许多地方利用了 pub(super) 把变量可以访问的范围控制到 vfat 中，然后直接读，只有少数需要特殊处理的进行了函数的封装）。首先当然是研究了半天 MBR 和 FAT32 的结构，拿了不同来源的 FAT 结构说明进行对比和验证，最后终于把格式搞清楚了，先实现了 MasterBootRecord ，这个其实很好实现，以前也有接触过 MBR ，本身也很简单。然后就是根据 MBR 找到第一个 FAT32 的分区，根据偏移找到分区的开头，开头的第一个扇区就是 EBPB 数据结构，里面保存了 FAT32 分区的各种信息。根据里面的信息，可以找到 FAT...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 16, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/02/16/thoughts-on-stanford-cs140e-3/">近来做 Stanford CS140e 的一些进展和思考（3）</a>
        </h2>

        <span> 由于 Assignment 2: File System 延期发布，所以中间那段时间转向 MIT 6.828 稍微研究了一下。前几天放出了新的任务，在上一篇文章之后，我又有了一些进展： 实现了从内存中读取 ATAGS(ARM Tags) 信息的代码，从而可以获得内存大小的信息，根据这个信息，实现了 bump 和 bin 两种内存分配器，并且把二者之一注册为全局内存分配器，利用上更新了的 std 就可以使用需要动态分配内存的相关工具了。利用这个，我实现了 shell 输入历史的回溯，把输入历史保存在一个动态增长的数组中，再特殊处理上下键，把当前的行替换为历史。 这个过程也不是没有踩坑。一开始代码放出来了，但是题目说明还没出，我就自己按照代码做了 ATAGS 和 bump 分配器，后来做完了，看到说明出了以后，发现理解还是有偏差，把代码更改了并修复了分配器的 BUG 。看到 bin 分配器的时候，我按照网上的 buddy memory...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 6, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/02/06/thoughts-on-stanford-cs140e-2/">近来做 Stanford CS140e 的一些进展和思考（2）</a>
        </h2>

        <span> 在上一篇文章之后，我又有了一些进展：UART ，简易的shell ，修复了之前写的 xmodem 中的 BUG，一个可以从 UART 接收一个 kernel 写入到内存中再跳转过去的 bootloader 。 首先是 UART ，就是通过两个 GPIO pin 进行数据传输，首先在 memory mapped IO 上进行相应的初始化，然后包装了 io::Read 和 io::Write （这里实现一开始有 BUG，后来修复了），然后很快地完成了一个仅仅能 echo 的 kernel 。 然后实现了...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 4, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/02/04/thoughts-on-stanford-cs140e/">近来做 Stanford CS140e 的一些进展和思考</a>
        </h2>

        <span> 最近，受各路安利，剁手买下了 这个淘宝商家的树莓派的套餐C ，还买了许多 LED 灯泡、杜邦线和电阻，开始按照 CS 140e 学习 Rust 并且用 Rust 编译写一个简易的操作系统。Assignment 0 的目标就是编写一个向 GPIO 16 连接的 LED 灯闪烁。首先当然就是愉快地按照教程下载 bootloader ，下载交叉编译工具链，顺带装一个 Raspbian 到机器上，随时可以当成一个低性能的 ARM/ARM64 （实际上，Raspbian 只用了armv7l，没有用 64bit）机器来用，以后如果配上 @scateu 团购的 Motorola Laptop Dock...</span>
      </li>
    
      <li>
        <span class="post-meta">Jan 30, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/01/30/more-on-scanf-and-scanf_s/">再次吐槽 VS 关于 scanf 和 scanf_s 的问题</a>
        </h2>

        <span> 继上次的吐槽后，今天再次遇到同学因为 scanf 在 VS 下的 deprecation error 感到十分迷茫，在知乎上求助又因为拍照的原因被说，我就在此再次吐槽一下 VS 这对初学者很不友善很不友善的两点。

一点就是上面提到的这个，另一点就是程序结束后任意键以退出这一功能要做得更加醒目一点 。前者由于大多数新手在学习 C/C++ 的时候都会跟着书上或者网上的代码敲一遍输入输出的代码，很容易就会撞到这个问题。后者则会让新手习惯性地以为程序闪退了，没有出结果，而不知道其实是程序执行结束后关闭而已。
</span>
      </li>
    
      <li>
        <span class="post-meta">Jan 7, 2018</span>

        <h2>
          <a class="post-link" href="/programming/2018/01/07/two-patches-of-Emacs-I-am-using/">我正在使用的两个 Emacs 的 Patch</a>
        </h2>

        <span> 我在本地对 emacs.rb 进行了修改： diff --git a/Formula/emacs.rb b/Formula/emacs.rb index d0138cd..de3c5ff 100644 --- a/Formula/emacs.rb +++ b/Formula/emacs.rb @@ -4,6 +4,14 @@ class Emacs &lt; Formula url "https://ftp.gnu.org/gnu/emacs/emacs-25.3.tar.xz" sha256 "253ac5e7075e594549b83fd9ec116a9dc37294d415e2f21f8ee109829307c00b" + patch do + url "https://gist.githubusercontent.com/aatxe/260261daf70865fbf1749095de9172c5/raw/214b50c62450be1cbee9f11cecba846dd66c7d06/patch-multicolor-font.diff"...</span>
      </li>
    
      <li>
        <span class="post-meta">Jan 2, 2018</span>

        <h2>
          <a class="post-link" href="/networking/2018/01/02/first-trial-of-NAT64/">NAT64 初尝试</a>
        </h2>

        <span> 最近宿舍里有线网络的 IPv4 总是拿不到地址，只能连无线网，不禁对计算机系学生的可怕的设备数量有了深刻的认识。不过，作为一个有道德（误）的良好青年，还是不要给已经枯竭的 IPv4 地址填堵了，还是赶紧玩玩 IPv6 的网络吧。然后在 TUNA 群里受青年千人续本达 (@heroxbd) 的安利，本地搭建一下 NAT64+DNS64 的环境。不过考虑到宿舍还是拿不到有线的 IPv4 地址，我就先利用苹果先前在强制 iOS 的应用支持 NAT64 网络的同时，在 macOS 上为了方便开发者调试，提供的便捷的建立 NAT64 网络的能力。 首先在设置中按住 Option 键打开 Sharing ， 点击 Internet Sharing ，勾上...</span>
      </li>
    
      <li>
        <span class="post-meta">Dec 31, 2017</span>

        <h2>
          <a class="post-link" href="/programming/2017/12/31/interesting-java-formatting-problem/">有趣的 Java 日期格式化问题</a>
        </h2>

        <span> 今天在群里看到有人说， Java 的日期格式化有问题，如果用 YYYY-MM-dd ，今天的日期就会显示 2018-12-31 。我立马在本地用 Java REPL (aka Groovy) 跑了一下，果然如此： $ date = new Date() ===&gt; Sun Dec 31 10:51:26 CST 2017 $ import java.text.SimpleDateFormat ===&gt; java.text.SimpleDateFormat $ new SimpleDateFormat("YYYY-MM-dd").format(date)...</span>
      </li>
    
      <li>
        <span class="post-meta">Dec 27, 2017</span>

        <h2>
          <a class="post-link" href="/macos/2017/12/27/try-gentoo-prefix-on-macOS/">在 macOS 上试用 Gentoo/Prefix</a>
        </h2>

        <span> 前几天参加了许朋程主讲的Tunight，对Gentoo有了一定的了解，不过看到如此复杂的安装过程和长久的编译时间，又看看我的CPU，只能望而却步了。不过，有Gentoo/Prefix这个工具，使得我们可以在其它的操作系统（如macOS,Solaris等）上在一个 $EPREFIX 下跑 Portage ，也就是把 Portage 运行在别的操作系统，当作一个包管理器，并且可以和别的操作系统并存。 首先还是祭出官网：Project:Prefix。 首先设定好环境变量 $EPREFIX ，之后所有的东西都会安装到这个目录下，把 bootstrap-prefix.sh 下载到 $EPREFIX ，然后 ./bootstrap-prefix.sh ，会进行一系列的问题，一一回答即可。建议在运行前设置好 GENTOO_MIRRORS=http://mirrors.tuna.tsinghua.edu.cn/gentoo 由于TUNA没有对gentoo_prefix做镜像，只能把distfiles切换到TUNA的镜像上。 然后。。。 stage1… stage2.. stage3. emerge -e @world BOOM 经过 n 次跑挂以后，终于搞完了 stage3 ，然后...</span>
      </li>
    
      <li>
        <span class="post-meta">Dec 12, 2017</span>

        <h2>
          <a class="post-link" href="/programming/2017/12/12/lsp-and-cpp/">Lsp And Cpp</a>
        </h2>

        <span> 之前时间，巨硬发布了LSP（Language Server Protocol），目的是解决目前IDE和各语言的m+n问题。想法很好，不过直到最近，终于有我觉得可以用的工具出来了，并且已经代替了我在使用的其它的插件。 由于我最近主要就是做做程设作业，做做OJ这些，主要就是和C++打交道。所以我当然就开始找一些比较成熟的C++的LSP server。有一个 Sourcegraph 维护的 langserver.org ，上面有着目前的各个语言和编辑器/IDE的支持情况，我刚才提到的cquery也会加入到这个列表里去。从这个列表里可以看到，我用的比较多的Python和Haskell都已经有不错的的LSP server，我已经开始在本地体验pyls和hie了，感觉做得挺不错的。 回到C++，我的主力编辑器是Emacs，其次是CLion，而Emacs上的LSP支持 lsp-mode也在快速发展，与之配合的lsp-ui 也出现了很多很棒的功能。 下面开始编译并配置cquery： git clone https://github.com/jacobdufault/cquery --recursive cd cquery ./waf configure # to use system clang, append --use-system-clang ./waf build 然后配置Emacs：...</span>
      </li>
    
      <li>
        <span class="post-meta">Dec 2, 2017</span>

        <h2>
          <a class="post-link" href="/programming/2017/12/02/on-nginx-memory-pool/">On Nginx Memory Pool</a>
        </h2>

        <span> 今晚参加了 Tunight ，会长给我们讲了 Nginx 的一些内部运作的机制和原理。中间的时候，会长展示的代码中用到了线程池方面的一些函数，但是大多地方只有调用 ngx_pcalloc 而没有看到相应的对象释放的过程，于是在演示的最后，会长应大家要求对 Nginx 魔幻的线程池实现做了现场代码分析。 在分析的中途遇到了很多坑，最后才终于理清了内存池的工作原理。这里直接解释结论吧。以下代码均摘自 Nginx 1.13.7 ，代码都可以在官方仓库找到。 首先分析一下创建一个内存池的函数： ngx_pool_t * ngx_create_pool(size_t size, ngx_log_t *log) { ngx_pool_t *p; p = ngx_memalign(NGX_POOL_ALIGNMENT, size, log); if (p == NULL)...</span>
      </li>
    
      <li>
        <span class="post-meta">Nov 30, 2017</span>

        <h2>
          <a class="post-link" href="/programming/2017/11/30/run-cpp-in-jupyter-notebook/">Run Cpp In Jupyter Notebook</a>
        </h2>

        <span> 刚刚在HN上看到了这么一个文章：Interactive Workflows for C++ with Jupyter HN ，终于可以在Jupyter Notebook里跑C++代码了，很开心，于是开始自己研究了起来怎么本地跑。 首先当然是更新一波jupyter，安装一波cling： pip3 install -U jupyter brew install cling 然后根据官方教程里的要求执行： cd /usr/local/share/cling/Jupyter/kernel pip3 install -e . jupyter kernelspec install cling-cpp11 jupyter kernelspec install cling-cpp14...</span>
      </li>
    
      <li>
        <span class="post-meta">Oct 30, 2017</span>

        <h2>
          <a class="post-link" href="/oi/2017/10/30/use-cpuid-to-get-machine-cpu/">用CPUID获取评测机器的CPU</a>
        </h2>

        <span> 受用 CPUID 检测各大 OJ 测评机所用的 CPU（以及日常黑 BZOJ）的启发，我决定去测试一下徐老师自己写的OJ（名为Tyche）所跑的机器是什么CPU。于是我改造一下代码，用以下代码测评： #include &lt;stdint.h&gt; #include &lt;iostream&gt; #include &lt;time.h&gt; #include &lt;cpuid.h&gt; #include &lt;sys/time.h&gt; static void cpuid(uint32_t func, uint32_t sub, uint32_t data[4]) { __cpuid_count(func, sub, data[0], data[1], data[2], data[3]);...</span>
      </li>
    
      <li>
        <span class="post-meta">Oct 26, 2017</span>

        <h2>
          <a class="post-link" href="/others/2017/10/26/alternative-to-pulse-secure/">一个代替Pulse Secure客户端的工具</a>
        </h2>

        <span> 清华的校外VPN服务使用的是Pulse Secure,所以在外网我们需要在客户端上安装Pulse Secure才能使用内网的info和网络学堂等网站.但是Pulse Secure一是非自由软件二界面难看,所以我找到了一个代替它的工具:OpenConnect.

安装后,输入以下命令:

sudo openconnect --user 你的学号 sslvpn.tsinghua.edu.cn --juniper --reconnect-timeout 60 --servercert sha256:398c6bccf414f7d71b6dc8d59b8e3b16f6d410f305aed7e30ce911c3a4064b31


然后输入你的info密码即可.
</span>
      </li>
    
      <li>
        <span class="post-meta">Oct 17, 2017</span>

        <h2>
          <a class="post-link" href="/programming/2017/10/17/analysis-on-a-primality-test/">分析一个我第一次见的素数测试函数</a>
        </h2>

        <span> 今天逛到这个连接，发现其中的第四种素数判定方法很有意思： #include&lt;stdio.h&gt; #include&lt;math.h&gt; int p[8]={4,2,4,2,4,6,2,6}; int prime(int n) { int i=7,j,q; if(n==1)return 0; if(n==2||n==5||n==3)return 1; if(n%2==0||n%3==0||n%5==0)return 0; q=(int)sqrt(n); for(;i&lt;=q;){ for(j=0;j&lt;8;j++){ if(n%i==0)return 0; i+=p[j]; } if(n%i==0)return 0; } return 1; } void main()...</span>
      </li>
    
      <li>
        <span class="post-meta">Oct 17, 2017</span>

        <h2>
          <a class="post-link" href="/programming/2017/10/17/on-scanf-and-scanf_s/">关于scanf和scanf_s的问题</a>
        </h2>

        <span> 最近作为程设基础的小教员，收到很多同学的求助，关于scanf和scanf_s的问题已经遇到了两次，特此写一篇博文来叙述一下这个问题。

一开始，有同学问我，
char a;
scanf("%c",&amp;a);

为什么会报错？我说，vs默认强制要求使用scanf_s函数，于是我建议这位同学把这个错误信息关掉了。嗯。经过百度，这位同学的问题解决了。

后来，又有一位同学问我，
char a;
scanf_s("%c",&amp;a);

程序为什么会崩溃？我想了想，如果scanf_s和scanf是一样的行为，这段代码是没问题的。但scanf_s既然安全，必然是在字符串方面做了处理。这里的char*勉强也算一个？网上一查，果然，应该写成scanf_s("%c",&amp;a,1);，字符串则要写成scanf_s("%s",str,sizeof(str))，来保证缓冲区不会溢出。

但是，这样解决这个问题又面临着不同的选择：


  学习scanf_s和scanf的不同，把所有scanf换成scanf_s并做相应的修改。
这样当然符合了语言进化的潮流，也会让vs闭嘴。但是，scanf_s只有在C11标准中有，而且，根据cpprefrence.com上关于scanf的描述，只有在__STDC_LIB_EXT1__被定义且在#include&lt;stdio.h&gt;之前#define __STDC_WANT_LIB_EXT1__才能确保使用scanf_s能使用，当然在vs较新版本中是默认可以使用的。但是，程设基础的作业是要丢到oj上的，而oj上的编译器不一定支持这些，所以这个选项不行。
  坚持用scanf，自己按照题目要求保证缓冲区不溢出，同时让vs闭嘴。
网上已有教程，已经讲的很全面了，大家可以根据这个教程把vs教训一顿。为了能在oj里跑，建议用里面的方法五到八。（个人最推荐在文件头添加#define _CRT_SECURE_NO_WARNINGS）


以后再遇到这个问题，我就丢这个连接上来就好了咯。yeah！
</span>
      </li>
    
      <li>
        <span class="post-meta">Oct 16, 2017</span>

        <h2>
          <a class="post-link" href="/others/2017/10/16/a-funny-wiki-of-splay-tree/">一个搞笑的伸展树的Wiki</a>
        </h2>

        <span> 光哲同学在群里发了这个链接，特别搞笑，特此分享：
伸展树 - 百度百科


  伸展树（Spaly Tree，事实上在国内 IO 界常常被称作 Tajarn 发明的 Spaly Tree，与此同理的还有 Terap），也叫分裂树，是一种二叉排序树，它能在 O(n log n) 内完成插入、查找和删除操作。它由 Daniel Sleator 和 Robert Tajarn 发现，后者对其进行了改造。它的优势可以不断伸展枝干（一个月 2~3 次），从而使树冠散开，提高光合作用效率。木材坚硬，是重要的经济类乔木。与其他植物不同的是，伸展树可以进行出芽生殖，繁殖速度极快。

</span>
      </li>
    
      <li>
        <span class="post-meta">Oct 16, 2017</span>

        <h2>
          <a class="post-link" href="/others/2017/10/16/review-on-yesterdays-jiujing-adi-contest/">回顾昨天的酒井知识竞赛</a>
        </h2>

        <span> 昨天晚上，我作为蒟蒻组的一员在三教2102参加了酒井知识竞赛，并因此鸽掉了TUNA和Lab mU的迎新会hhh，不过运气好拿到了二等奖的好成绩，获得Paperang便携打印机一台。中间遇到了好一些网络方面的知识，这对于没有记忆OSI模型的我无疑有巨大的难度。下面是几道比较有印象的题目： 以下哪个不是编程语言？ A. J B. L C. R D. K 这题不难，R肯定对，J见过，K略微有印象，选B IPv6链路层地址解析的协议是？ A. ARP B. Neighbour Solicitation C. Neighbour Advertisement D. Neighbour Discovery 对于一个没研究过IPv6的人来说这只好蒙了。。。ARP是IPv4时代的，ND(Neighbour Discovery则是IPv6时代的新产物，把ARP和ICMP等协议的功能都包含了进来，并且有新的功能。之前样题里还出现过问IPv6中去掉了Unicast,Anycast,Multicast,Broadcast中的哪种，答案是Broadcast。 第一个把程序错误称做bug的是？ 选项太多忘了，答案是Grace Hopper，因为当时一只飞蛾意外飞入了机器导致了故障，后来慢慢就流传下来了。 以下不是网络操作系统的是？ A. Windows...</span>
      </li>
    
      <li>
        <span class="post-meta">Aug 8, 2017</span>

        <h2>
          <a class="post-link" href="/unboxing/2017/08/08/huawei-portable-wifi/">华为随行 WiFi 2 mini开箱</a>
        </h2>

        <span> 前段时间，我办了4G升级，移动送了一张副卡，有不少免费的流量，由于我的手机是iPhone不支持双卡，老爸就借了我他的GlocalMe当成MiFi来用，不过呢GlocalMe放在这里当然是大材小用了，所以我就网购了华为随行WiFi 2 mini，把我的副卡装上一个壳放进去就可以了！把这个MiFi插入电脑，会弹出一个目录，里面有Win/Mac的驱动安装文件，打开后在网络设置里就有HUAWEI_MOBILE的连接了，并自动打开网络配置界面。设置一下SSID和密码，就能正常使用了，手机连上也很正常，手机上可以下载HUAWEI HiLink来配置MiFi，挺爽的。随赠的有联通的上网卡，不过我准备在北京买个上网卡放MiFi里面用。
</span>
      </li>
    
      <li>
        <span class="post-meta">Jul 26, 2017</span>

        <h2>
          <a class="post-link" href="/news/2017/07/26/farewell-flash/">Farewell, Flash</a>
        </h2>

        <span> It’s time to say goodbye to Flash.
HN #1
HN #2
</span>
      </li>
    
      <li>
        <span class="post-meta">Jun 15, 2017</span>

        <h2>
          <a class="post-link" href="/system/2017/06/15/macos-sierra-karabiner-finally-support-complex-modifications/">In macOS Sierra, Karabiner-Elements finally support complex modifications</a>
        </h2>

        <span> In favor of this commit, Karabiner-Elements now supports the much welcomed yet long-lost feature, namely complex modifications that enable users to trigger complex keypress. Now I can achieve this: If I press...</span>
      </li>
    
      <li>
        <span class="post-meta">Aug 2, 2016</span>

        <h2>
          <a class="post-link" href="/science/2016/08/02/dengshiyuan/">等时圆</a>
        </h2>

        <span> 最近学校老师讲了一下等时圆。先从这个题讲起：

在同一个地方向不同倾角光滑斜面用不同的初速度上滑，到达最高点所用时间相等，求最高点的轨迹是什么？

A. 直线 B. 椭圆 C. 抛物线 D. 圆

当时做这个题目的第一想法是把x和y座标表示出来：



然后就傻眼了，并得不到x与y的关系式。当然了可以求出几个点，强行带入二次曲线通式求解。不过想了想还是用解析几何的方法去做吧：



这么一代入，显然是圆。但既然这是物理题，可不可以用物理方法做呢？

可以，这就是等时圆。

啥叫等时圆？

等时圆就是，在一个光滑圆环上选择任意一点，让一个小球从这个点沿着光滑直杆到圆的最低点，无论这个点在哪里（最低点不算哈），时间都是一样的。怎么证明？

很简单：设小球与最低点连线与数值方向上夹角为，那么



你会发现t与无关。证明完毕。

其实也可以倒过来：从圆的最高点往各个方向下滑，到达圆周时间相等。

好了，到此为止内容都没什么，但你会想问这和前面那道题目有什么关系呢？这怎么等时圆？重力往下诶。运动可是往右上方。

Here comes the black magic :)

我们考虑向下滑到最低点的那个等时圆，在这个圆周上滑倒最低点的时间都相等。好，我们把这个图沿着竖直方向旋转180度形成一个球，想想这个球上每一个点到最低点时间是不是也一样？那么考虑逆过程，让小球从斜面上滑下来，我对刚才的球体再竖着切一刀，得到的平面不就是题目中那个吗？得证。

当然了最好能有动画说明，限于本人时间问题暂时不提供 ^_^
</span>
      </li>
    
      <li>
        <span class="post-meta">Jul 23, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/07/23/a-good-way-to-show-git-diff-for-compressed-files/">A Good Way To Show Git Diff For Compressed Files</a>
        </h2>

        <span> I have found a good way to track changes in .gz files: Add these to ~/.gitconfig: [core] attributesFile = ~/.gitattributes [diff "zip"] textconv = unzip -p binary = true [diff "gz"] textconv...</span>
      </li>
    
      <li>
        <span class="post-meta">Jul 7, 2016</span>

        <h2>
          <a class="post-link" href="/life/2016/07/07/the-end-of-senior-two/">The End Of Senior Two</a>
        </h2>

        <span> Finally the end of Senior 2 arrives. I’m on the way to Senior 3. The summer vacation is rather short which is really common in China. These days I have been diving...</span>
      </li>
    
      <li>
        <span class="post-meta">May 22, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/05/22/exciting-new-software-updates/">Exciting New Software Updates</a>
        </h2>

        <span> Just got a piece of great news: GHC 8.0.1 is out! See the announcement [here][http://article.gmane.org/gmane.comp.lang.haskell.ghc.devel/11928]. So excited! And Emacs 25 release will be out soon. Using Emacs 25.0.94 now. Many new features...</span>
      </li>
    
      <li>
        <span class="post-meta">Apr 9, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/04/09/interesting-links/">Interesting Links</a>
        </h2>

        <span> Having a bad cold. Really annoying.

Okay, here comes the interesting links:

https://glyph.twistedmatrix.com/2015/11/editor-malware.html

http://kitchingroup.cheme.cmu.edu/blog/2016/04/07/Writing-hy-code-from-hy-code/

https://github.com/holomorph/transmission

https://github.com/bergey/org-babel-diagrams

http://ess.r-project.org/

http://projects.haskell.org/diagrams/
</span>
      </li>
    
      <li>
        <span class="post-meta">Apr 3, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/04/03/tips-on-git-shallow-clone/">Tips On Git Shallow Clone</a>
        </h2>

        <span> Just learned a new tip on git shallow clone. As you know, some repository are really really large, such as emacs and linux. Cloning is slow and unstable. And there is no...</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 19, 2016</span>

        <h2>
          <a class="post-link" href="/speech/2016/03/19/listen-and-write-subtitles-cameron/">Listen And Write Subtitles Cameron</a>
        </h2>

        <span> Here is the subtitle: We meet in a week that could change the United Kingdom for ever. Indeed, it could end the United Kingdom as we know it. On Thursday, Scotland votes,...</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 13, 2016</span>

        <h2>
          <a class="post-link" href="/logo/2016/03/13/logo-is-a-lisp-dialect/">Logo Is A Lisp Dialect</a>
        </h2>

        <span> Most of us have learnt how to use PCLogo to draw some graphics. Logo is a dialect of Lisp in fact, so most of us used a Lisp dialect at a early...</span>
      </li>
    
      <li>
        <span class="post-meta">Mar 9, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/03/09/some-interesting-links/">Some Interesting Links</a>
        </h2>

        <span> I’m here to share some interesting links. I do not have much time writing the blog now. Recently I have been working on CodeFalling/MacGesture on Github. If you are interested in it,...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 28, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/02/28/using-chinese-pyim/">Using Chinese Pyim</a>
        </h2>

        <span> Recently i have been using tumashu’s chinese-pyim. It’s great to write Chinese right in Emacs. But as the personal dict is empty, this must be a hard time for me to build...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 24, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/02/24/unix-nice/">Unix Nice</a>
        </h2>

        <span> I just saw this interesting tweet: Unix系统的每个进程，都有一个nice值。这个值越大，优先级越低。然后，还有一个nice命令，每运行一次，指定进程的nice值＋10。它的意思就是做人要nice，把更多的CPU时间留给别人。nice值越高，你留给自己的份额就越少。 From hereby @ruanyf. And i didn’t known that until now. Cool! The name ‘nice’ is nice, too. Don’t worry if you can’t read Chinese. See...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 21, 2016</span>

        <h2>
          <a class="post-link" href="/others/2016/02/21/start-next-term-tomorrow/">Start Next Term Tomorrow</a>
        </h2>

        <span> My term starts tomorrow. Sad. Homework haven’t finished. I went to Guangzhou for GDKOI thie weekend, and i haven’t known the result. It should be bad. I have no confidence at all....</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 18, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/02/18/building-emacs-git-version-with-xwidgets-and-modules-in-archlinux/">Building Emacs Git Version With Xwidgets And Modules In Archlinux</a>
        </h2>

        <span> First you need to install these packages: sudo pacman -S git autoconf automake gtk3 webkitgtk git clone --depth 1 https://github.com/emacs-mirror/emacs.git (or git protocol if you like) cd emacs ./autogen.sh all ./configure --with-xwidgets...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 18, 2016</span>

        <h2>
          <a class="post-link" href="/vpn/2016/02/18/how-to-create-a-vpn/">How To Create A Vpn</a>
        </h2>

        <span> Today i’m going to introduce how to create a vpn. First of all you need a VPS somewhere with a static ip. Then, choose CentOS 7 and use the script from here....</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 17, 2016</span>

        <h2>
          <a class="post-link" href="/osx/2016/02/17/tips-in-os-x/">Screen Capturing Tips in macOS</a>
        </h2>

        <span> I’m sure many people have already known this. But i haven’t memorize it yet. How to screen capture: Shift+Command+3: Capture fullscreen. Shift+Command+4: Capture region. : Press space to capture window. : Hold...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 16, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/02/16/news/">News</a>
        </h2>

        <span> Oh StartSSL places its PKI in 360’s server. You know, i hate 360. SO please beware if the website is using StartSSL. Here is the link. And here comes the vim-tips: You...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 15, 2016</span>

        <h2>
          <a class="post-link" href="/programming/2016/02/15/good-software-engineering-rules/">Good Software Engineering Rules</a>
        </h2>

        <span> I saw a great saying: No code runs faster than no code. No code has fewer bugs than no code. No code uses less memory than no code. No code is easier...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 13, 2016</span>

        <h2>
          <a class="post-link" href="/thoughts/2016/02/13/and-she-has-gone/">And She Has Gone</a>
        </h2>

        <span> And eventually, she has gone at 20 o’clock.

Real RIP this time.
</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 12, 2016</span>

        <h2>
          <a class="post-link" href="/thoughts/2016/02/12/bad-news-from-my-grand-grandma/">Bad News From My Grand Grandma</a>
        </h2>

        <span> When I was on my way to dinner, a phone call came. It said my grand grandma was dying. She was born in Xuantong 2nd, which is 1910 in Gregorian calendar. She...</span>
      </li>
    
      <li>
        <span class="post-meta">Feb 12, 2016</span>

        <h2>
          <a class="post-link" href="/meta/2016/02/12/the-beginning-of-my-blog/">The Beginning Of My Blog</a>
        </h2>

        <span> This is the first blog here. I am talkative deep inside, but i do not have enough opportunities to express myself. Most of the listeners can’t understand me. So i would like...</span>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <div style="text-align:center">在文末，让我们膜一下2017安徽理科状元申奥大佬吧：</div>
    <p style="text-align:center"><img src="https://p0.ifengimg.com/fck/2017_25/ce9ac61f402f9b7_w700_h932.jpg" width="175" height="233"></p>

    <footer class="site-footer">

  <div class="wrapper">

    <div id="disqus_thread"></div>
    <script type="text/javascript">
      (function() {
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//jiegec.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    
    <h2 class="footer-heading">杰哥的{运维,编程}小笔记</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>杰哥的{运维,编程}小笔记</li>
          <li><a href="mailto:jiegec@qq.com">jiegec@qq.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jiegec"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">jiegec</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>This is the personal blog of Jiajie Chen, a NANO(uNix hAcker aNd lOver).
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
