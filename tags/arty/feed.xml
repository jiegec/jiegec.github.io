<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>arty on 杰哥的{运维,编程,调板子}小笔记</title>
    <link>https://jia.je/tags/arty/</link>
    <description>Recent content in arty on 杰哥的{运维,编程,调板子}小笔记</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 19 Apr 2023 15:55:00 +0800</lastBuildDate><atom:link href="https://jia.je/tags/arty/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>在 Arty A7 上用 LiteX 和 VexRiscv 跑 Linux</title>
      <link>https://jia.je/hardware/2023/04/19/litex-digilent-arty-a7/</link>
      <pubDate>Wed, 19 Apr 2023 15:55:00 +0800</pubDate>
      
      <guid>https://jia.je/hardware/2023/04/19/litex-digilent-arty-a7/</guid>
      <description>litex 安装 litex 安装过程按照 https://github.com/enjoy-digital/litex/wiki/Installation 进行，由于需要 pip install，建议用 venv 来开一个干净的环境：
python3 -m venv venv source venv/bin/activate cd litex ./litex_setup.py --init --install 构建 bitstream litex-boards 已经内建了 Arty A7 的支持，直接运行下列命令，就可以得到 bitstream：
python3 -m litex_boards.targets.digilent_arty --build --with-ethernet 这样就可以在 build/digilent_arty/gateware 目录下找到 bitstream。可以通过命令行参数来自定义需要的功能，详见 https://github.com/litex-hub/litex-boards/blob/f5e51d72bca6ed0325c1213791a78362326002f8/litex_boards/targets/digilent_arty.py#L162-L180。
如果想切换 CPU 为 Rocket Chip 的话，克隆并安装 https://github.com/litex-hub/pythondata-cpu-rocket，添加 --cpu-type rocket --cpu-variant small 参数即可。
下载 bitstream 最后，连接 microUSB 和网线到电脑，然后下载 bitstream：
openFPGALoader -b arty digilent_arty.bit screen /dev/tty.usbserial-XXXXXXXXXXXXX 115200 就可以看到 litex 的输出：
--=============== SoC ==================-- CPU: VexRiscv @ 100MHz BUS: WISHBONE 32-bit @ 4GiB CSR: 32-bit data ROM: 128.</description>
    </item>
    
  </channel>
</rss>
