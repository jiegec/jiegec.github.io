<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>freebsd on 杰哥的{运维,编程,调板子}小笔记</title>
    <link>https://jia.je/tags/freebsd/</link>
    <description>Recent content in freebsd on 杰哥的{运维,编程,调板子}小笔记</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 21 Jan 2023 20:18:00 +0800</lastBuildDate><atom:link href="https://jia.je/tags/freebsd/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>FreeBSD/NetBSD/OpenBSD/DragonFlyBSD Cookbook</title>
      <link>https://jia.je/system/2023/01/21/bsd-cookbook/</link>
      <pubDate>Sat, 21 Jan 2023 20:18:00 +0800</pubDate>
      
      <guid>https://jia.je/system/2023/01/21/bsd-cookbook/</guid>
      <description>背景 最近在维护 lsof 的时候，需要在 FreeBSD/NetBSD/OpenBSD/DragonFlyBSD 上进行开发和测试，于是就装了虚拟机，特此记录我在使用过程中，与 Linux 不一样的一些常用 FreeBSD/NetBSD/OpenBSD/DragonFlyBSD 命令。
FreeBSD 文档参考：https://docs.freebsd.org/en/books/handbook
安装 在 https://www.freebsd.org/where/ 找到最新版下载，对于虚拟机的需求，用 -disk1.iso，1 GB 左右。安装过程按照 UI 一步步走即可。
root 权限 FreeBSD 的 su 默认只有 wheel 组可以 su 到 root，所以安装的时候，建议给创建的帐号加上 wheel 组。也可以通过 pw 命令：
pw groupmod wheel -m freebsd sudo 需要通过包管理器安装，用法和 Linux 一样。
包管理 使用 pkg 命令进行包管理：
pkg update pkg install -U sudo vim fish -U 表示在 install 的时候不要再 update。
也可以从 Ports 源码编译，如：
git clone https://git.FreeBSD.org/ports.git /usr/ports cd /usr/ports/sysutils/lsof make install 升级 使用 freebsd-update 命令升级：</description>
    </item>
    
    <item>
      <title>在 FreeBSD 上运行 code-server</title>
      <link>https://jia.je/software/2023/01/13/vscode-server-on-freebsd/</link>
      <pubDate>Fri, 13 Jan 2023 19:23:00 +0800</pubDate>
      
      <guid>https://jia.je/software/2023/01/13/vscode-server-on-freebsd/</guid>
      <description>背景 最近在 FreeBSD 上移植开源软件，但是因为 vscode 官方不支持 FreeBSD，所以尝试使用 code-server
使用 首先按照官方文档安装 code-server：
curl -fsSL https://code-server.dev/install.sh | sh 启动 code-server：
code-server --bind-addr 0.0.0.0:8080 但是很快你会发现，运行日志中会报告很多错误，缺少了一些包：
sudo npm i -g yazl yauzl @microsoft/1ds-core-js vscode-regexpp xterm-headless vscode-proxy-agent --unsafe-perm 到这里就能在网页里看到 UI 了，但是发现很多功能都不工作。例如搜索的时候，会告诉你找不到 rg，是因为 ripgrep 没有提供 FreeBSD 的 prebuilt binary，但是可以用 pkg 安装：
sudo pkg install ripgrep cd /usr/local/lib/node_modules/@vscode/ripgrep/bin &amp;amp;&amp;amp; ln -s /usr/local/bin/rg cd /usr/local/lib/node_modules/code-server/lib/vscode/node_modules/@vscode/ripgrep/bin &amp;amp;&amp;amp; ln -s /usr/local/bin/rg 然后，日志中会显示 @parcel/watcher 启动失败，显示 Undefined symbol，这是因为这个库没有做 FreeBSD 支持。需要使用 https://github.com/parcel-bundler/watcher/pull/128 版本，编译出 watcher.</description>
    </item>
    
  </channel>
</rss>
