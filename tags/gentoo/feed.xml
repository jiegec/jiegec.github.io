<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>gentoo on 杰哥的{运维,编程,调板子}小笔记</title>
    <link>https://jia.je/tags/gentoo/</link>
    <description>Recent content in gentoo on 杰哥的{运维,编程,调板子}小笔记</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 08 Jul 2023 22:36:00 +0800</lastBuildDate><atom:link href="https://jia.je/tags/gentoo/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>在 Apple M1 上试用 Gentoo/Prefix</title>
      <link>https://jia.je/devops/2023/07/08/gentoo-prefix-m1/</link>
      <pubDate>Sat, 08 Jul 2023 22:36:00 +0800</pubDate>
      
      <guid>https://jia.je/devops/2023/07/08/gentoo-prefix-m1/</guid>
      <description>背景 上一次折腾 Gentoo/Prefix 是五年多以前，当时还是用的 Intel Mac，最近需要探索一下在现在的 macOS 系统上用 Gentoo/Prefix 会遇到哪些问题，因此今天在 Apple M1 上重新尝试一次。
安装 按照官网的文档，下载脚本并运行：
wget https://gitweb.gentoo.org/repo/proj/prefix.git/plain/scripts/bootstrap-prefix.sh chmod +x bootstrap-prefix.sh ./bootstrap-prefix.sh 按照提示输入即可。
编译使用了四到五个多小时，占用 3GB 的硬盘空间。成功以后进入 Gentoo Prefix：
./startprefix 折腾 编译并运行大概两个小时以后，遇到了编译错误：
Undefined symbols for architecture arm64: &amp;#34;_libintl_bindtextdomain&amp;#34;, referenced from: __locale_bindtextdomain in _localemodule.o &amp;#34;_libintl_dcgettext&amp;#34;, referenced from: __locale_dcgettext in _localemodule.o &amp;#34;_libintl_dgettext&amp;#34;, referenced from: __locale_dgettext in _localemodule.o &amp;#34;_libintl_gettext&amp;#34;, referenced from: __locale_gettext in _localemodule.o &amp;#34;_libintl_setlocale&amp;#34;, referenced from: __locale_setlocale in _localemodule.o __locale_localeconv in _localemodule.o &amp;#34;_libintl_textdomain&amp;#34;, referenced from: __locale_textdomain in _localemodule.</description>
    </item>
    
    <item>
      <title>在 macOS 上试用 Gentoo/Prefix</title>
      <link>https://jia.je/devops/2017/12/27/try-gentoo-prefix-on-macos/</link>
      <pubDate>Wed, 27 Dec 2017 20:25:23 +0800</pubDate>
      
      <guid>https://jia.je/devops/2017/12/27/try-gentoo-prefix-on-macos/</guid>
      <description>前几天参加了许朋程主讲的 Tunight，对 Gentoo 有了一定的了解，不过看到如此复杂的安装过程和长久的编译时间，又看看我的 CPU，只能望而却步了。不过，有 Gentoo/Prefix 这个工具，使得我们可以在其它的操作系统（如 macOS,Solaris 等）上在一个 $EPREFIX 下跑 Portage，也就是把 Portage 运行在别的操作系统，当作一个包管理器，并且可以和别的操作系统并存。
首先还是祭出官网：Project:Prefix。
首先设定好环境变量 $EPREFIX ，之后所有的东西都会安装到这个目录下，把 bootstrap-prefix.sh 下载到 $EPREFIX ，然后 ./bootstrap-prefix.sh ，会进行一系列的问题，一一回答即可。建议在运行前设置好 GENTOO_MIRRORS=http://mirrors.tuna.tsinghua.edu.cn/gentoo 由于 TUNA 没有对 gentoo_prefix 做镜像，只能把 distfiles 切换到 TUNA 的镜像上。
然后。。。
stage1&amp;hellip;
stage2..
stage3.
emerge -e @world BOOM
经过 n 次跑挂以后，终于搞完了 stage3，然后 SHELL=bash ./bootstrap-prefix.sh $EPREFIX startscript 生成 startprefix ，在外面的 SHELL 中向切进来的时候运行这个即可。
然后就可以使用Gentoo/Prefix了。注意！此时的 $PATH 仅限于 $EPREFIX 下几个目录和 /usr/bin /bin 所以很多东西都会出问题（Emacs, Vim, Fish etc）。小心不要把自己的目录什么的搞挂了。
然后就可以假装试用 Gentoo 了！
哈哈哈哈哈哈哈</description>
    </item>
    
  </channel>
</rss>
