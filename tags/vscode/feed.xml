<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>vscode on 杰哥的{运维,编程,调板子}小笔记</title>
    <link>https://jia.je/tags/vscode/</link>
    <description>Recent content in vscode on 杰哥的{运维,编程,调板子}小笔记</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 13 Jan 2023 19:23:00 +0800</lastBuildDate><atom:link href="https://jia.je/tags/vscode/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>在 FreeBSD 上运行 code-server</title>
      <link>https://jia.je/software/2023/01/13/vscode-server-on-freebsd/</link>
      <pubDate>Fri, 13 Jan 2023 19:23:00 +0800</pubDate>
      
      <guid>https://jia.je/software/2023/01/13/vscode-server-on-freebsd/</guid>
      <description>背景 最近在 FreeBSD 上移植开源软件，但是因为 vscode 官方不支持 FreeBSD，所以尝试使用 code-server
使用 首先按照官方文档安装 code-server：
curl -fsSL https://code-server.dev/install.sh | sh 启动 code-server：
code-server --bind-addr 0.0.0.0:8080 但是很快你会发现，运行日志中会报告很多错误，缺少了一些包：
sudo npm i -g yazl yauzl @microsoft/1ds-core-js vscode-regexpp xterm-headless vscode-proxy-agent --unsafe-perm 到这里就能在网页里看到 UI 了，但是发现很多功能都不工作。例如搜索的时候，会告诉你找不到 rg，是因为 ripgrep 没有提供 FreeBSD 的 prebuilt binary，但是可以用 pkg 安装：
sudo pkg install ripgrep cd /usr/local/lib/node_modules/@vscode/ripgrep/bin &amp;amp;&amp;amp; ln -s /usr/local/bin/rg cd /usr/local/lib/node_modules/code-server/lib/vscode/node_modules/@vscode/ripgrep/bin &amp;amp;&amp;amp; ln -s /usr/local/bin/rg 然后，日志中会显示 @parcel/watcher 启动失败，显示 Undefined symbol，这是因为这个库没有做 FreeBSD 支持。需要使用 https://github.com/parcel-bundler/watcher/pull/128 版本，编译出 watcher.</description>
    </item>
    
    <item>
      <title>在 k8s 中部署 code-server</title>
      <link>https://jia.je/devops/2020/04/22/k8s-code-server/</link>
      <pubDate>Wed, 22 Apr 2020 19:02:00 +0800</pubDate>
      
      <guid>https://jia.je/devops/2020/04/22/k8s-code-server/</guid>
      <description>实验了一下在 k8s 中部署 code-server，并不复杂，和之前几篇博客的配置是类似的：
apiVersion: extensions/v1beta1 kind: Deployment metadata: name: code labels: app: code spec: selector: matchLabels: app: code replicas: 1 template: metadata: labels: app: code spec: volumes: - name: code-volume persistentVolumeClaim: claimName: code-pvc initContainers: - name: home-init image: busybox command: [&amp;#34;sh&amp;#34;, &amp;#34;-c&amp;#34;, &amp;#34;chown -R 1000:1000 /home/coder&amp;#34;] volumeMounts: - mountPath: &amp;#34;/home/coder&amp;#34; name: code-volume containers: - image: codercom/code-server:latest imagePullPolicy: Always name: code volumeMounts: - mountPath: &amp;#34;/home/coder&amp;#34; name: code-volume resources: limits: cpu: &amp;#34;0.</description>
    </item>
    
    <item>
      <title>实现 VSCodeVim 中支持中文分词的单词移动</title>
      <link>https://jia.je/software/2019/01/16/vscode-vim-chinese-word-motion/</link>
      <pubDate>Wed, 16 Jan 2019 00:15:00 +0800</pubDate>
      
      <guid>https://jia.je/software/2019/01/16/vscode-vim-chinese-word-motion/</guid>
      <description>最近用 VS Code 写中文 LaTeX 比较多，但是编辑起来总是比较麻烦，不能用各种带 w 的 motion，不然整行都没了。于是 @xalanq 提出能不能拿一个 JS 的分词库，魔改一下 VSCode Vim 来得到同样效果？答案是可以的。
最后代码在 jiegec/VSCodeVimChinese 里，还没有合并到上游的打算。不定期根据上游发版本同步更新，在 Github Release 里发布 vsix 文件，目前版本为 v1.0.1。在 VS Code 里 Extensions: Install from VSIX... 即可安装。
经过对代码的研究，发现对 motion w 的处理都是通过 getWordLeft getWordRight 和 getCurrentWordEnd 完成的。于是我修改了这三个函数，根据原来的返回值把字符串喂给分词器，再返回的新的位置。一开始用的是 nodejieba ，但是因为需要用到 node-gyp 遇到了 Node 版本不兼容的问题，于是换了一个纯 Node 的实现 node-segment ，就完成了这个功能。</description>
    </item>
    
  </channel>
</rss>
