<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>rook on 杰哥的{运维,编程,调板子}小笔记</title>
    <link>https://jia.je/tags/rook/</link>
    <description>Recent content in rook on 杰哥的{运维,编程,调板子}小笔记</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 12 Mar 2021 00:41:00 +0800</lastBuildDate><atom:link href="https://jia.je/tags/rook/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>通过 rook 在 k8s 上部署 ceph 集群</title>
      <link>https://jia.je/devops/2021/03/12/ceph-on-k8s/</link>
      <pubDate>Fri, 12 Mar 2021 00:41:00 +0800</pubDate>
      
      <guid>https://jia.je/devops/2021/03/12/ceph-on-k8s/</guid>
      <description>背景 为了方便集群的使用，想在 k8s 集群里部署一个 ceph 集群。
Ceph 介绍
Ceph 有这些组成部分：
 mon：monitor mgr：manager osd：storage mds(optional)：用于 CephFS radosgw(optional：用于 Ceph Object Storage  配置 我们采用的是 rook 来部署 ceph 集群。
参考文档：https://rook.github.io/docs/rook/v1.5/ceph-examples.html
首先，克隆 rook 的仓库。建议选择一个 release 版本。
接着，运行下面的命令：
sudo apt install -y lvm2 # required kubectl apply -f rook/cluster/examples/kubernetes/ceph/crds.yaml kubectl apply -f rook/cluster/examples/kubernetes/ceph/common.yaml kubectl apply -f rook/cluster/examples/kubernetes/ceph/operator.yaml # debugging only kubectl apply -f rook/cluster/examples/kubernetes/ceph/toolbox.yaml kubectl apply -f rook/cluster/examples/kubernetes/ceph/direct-mount.yaml # CephFS kubectl apply -f rook/cluster/examples/kubernetes/ceph/filesystem.yaml kubectl apply -f rook/cluster/examples/kubernetes/ceph/csi/cephfs/storageclass.</description>
    </item>
    
  </channel>
</rss>
