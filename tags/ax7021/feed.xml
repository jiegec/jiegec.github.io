<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ax7021 on 杰哥的{运维,编程,调板子}小笔记</title>
    <link>https://jia.je/tags/ax7021/</link>
    <description>Recent content in ax7021 on 杰哥的{运维,编程,调板子}小笔记</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 24 Apr 2023 17:19:00 +0800</lastBuildDate><atom:link href="https://jia.je/tags/ax7021/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>在 LiteX 中使用 UART over JTAG</title>
      <link>https://jia.je/hardware/2023/04/24/litex-uart-over-jtag/</link>
      <pubDate>Mon, 24 Apr 2023 17:19:00 +0800</pubDate>
      
      <guid>https://jia.je/hardware/2023/04/24/litex-uart-over-jtag/</guid>
      <description>背景 在给 Alinx AX7021 适配 LiteX 的时候，遇到一个问题：PL 上没有连接串口，只有 PS 连接了串口，如果用 RISC-V 软核的话，就会面临无串口可用的情况，除非在扩展 IO 上自己定义一个串口。
因此研究了一下 LiteX 自带的 UART over JTAG 功能，在 Alinx AX7021 中调试出来了。
LiteX 配置 启用很简单，直接在命令里添加 --uart-name jtag_uart 即可：
$ python3 -m litex_boards.targets.alinx_ax7021 --build --uart-name jtag_uart 如果要设置成默认的话，也可以在代码中添加：
if kwargs.get(&amp;#34;uart_name&amp;#34;, &amp;#34;serial&amp;#34;) == &amp;#34;serial&amp;#34;: # Defaults to JTAG-UART since UART is connected to PS instead of PL kwargs[&amp;#34;uart_name&amp;#34;] = &amp;#34;jtag_uart&amp;#34; 那么 FPGA 部分的准备就完成了，把 bitstream 下载到 FPGA 即可进入下一步。
OpenOCD 配置 下一步是使用 litex_term 来连接 UART over JTAG。它的启动方式是：</description>
    </item>
    
  </channel>
</rss>
